(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Ut(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var je={exports:{}},Nt=je.exports,rt;function $t(){return rt||(rt=1,function(n,e){(function(i,r){n.exports=r()})(typeof self<"u"?self:Nt,function(){return function(t){var i={};function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=i,r.d=function(o,s,a){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},r.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=0)}({"./dist/icons.json":function(t){t.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',table:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(t,i,r){var o,s;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var a=function(){function l(){}l.prototype=Object.create(null);function c(v,y){for(var g=y.length,T=0;T<g;++T)h(v,y[T])}var d={}.hasOwnProperty;function u(v,y){v[y]=!0}function f(v,y){for(var g in y)d.call(y,g)&&(v[g]=!!y[g])}var m=/\s+/;function p(v,y){for(var g=y.split(m),T=g.length,P=0;P<T;++P)v[g[P]]=!0}function h(v,y){if(y){var g=typeof y;g==="string"?p(v,y):Array.isArray(y)?c(v,y):g==="object"?f(v,y):g==="number"&&u(v,y)}}function x(){for(var v=arguments.length,y=Array(v),g=0;g<v;g++)y[g]=arguments[g];var T=new l;c(T,y);var P=[];for(var z in T)T[z]&&P.push(z);return P.join(" ")}return x}();typeof t<"u"&&t.exports?t.exports=a:(o=[],s=(function(){return a}).apply(i,o),s!==void 0&&(t.exports=s))})()},"./node_modules/core-js/es/array/from.js":function(t,i,r){r("./node_modules/core-js/modules/es.string.iterator.js"),r("./node_modules/core-js/modules/es.array.from.js");var o=r("./node_modules/core-js/internals/path.js");t.exports=o.Array.from},"./node_modules/core-js/internals/a-function.js":function(t,i){t.exports=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r}},"./node_modules/core-js/internals/an-object.js":function(t,i,r){var o=r("./node_modules/core-js/internals/is-object.js");t.exports=function(s){if(!o(s))throw TypeError(String(s)+" is not an object");return s}},"./node_modules/core-js/internals/array-from.js":function(t,i,r){var o=r("./node_modules/core-js/internals/bind-context.js"),s=r("./node_modules/core-js/internals/to-object.js"),a=r("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),l=r("./node_modules/core-js/internals/is-array-iterator-method.js"),c=r("./node_modules/core-js/internals/to-length.js"),d=r("./node_modules/core-js/internals/create-property.js"),u=r("./node_modules/core-js/internals/get-iterator-method.js");t.exports=function(m){var p=s(m),h=typeof this=="function"?this:Array,x=arguments.length,v=x>1?arguments[1]:void 0,y=v!==void 0,g=0,T=u(p),P,z,A,O;if(y&&(v=o(v,x>2?arguments[2]:void 0,2)),T!=null&&!(h==Array&&l(T)))for(O=T.call(p),z=new h;!(A=O.next()).done;g++)d(z,g,y?a(O,v,[A.value,g],!0):A.value);else for(P=c(p.length),z=new h(P);P>g;g++)d(z,g,y?v(p[g],g):p[g]);return z.length=g,z}},"./node_modules/core-js/internals/array-includes.js":function(t,i,r){var o=r("./node_modules/core-js/internals/to-indexed-object.js"),s=r("./node_modules/core-js/internals/to-length.js"),a=r("./node_modules/core-js/internals/to-absolute-index.js");t.exports=function(l){return function(c,d,u){var f=o(c),m=s(f.length),p=a(u,m),h;if(l&&d!=d){for(;m>p;)if(h=f[p++],h!=h)return!0}else for(;m>p;p++)if((l||p in f)&&f[p]===d)return l||p||0;return!l&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(t,i,r){var o=r("./node_modules/core-js/internals/a-function.js");t.exports=function(s,a,l){if(o(s),a===void 0)return s;switch(l){case 0:return function(){return s.call(a)};case 1:return function(c){return s.call(a,c)};case 2:return function(c,d){return s.call(a,c,d)};case 3:return function(c,d,u){return s.call(a,c,d,u)}}return function(){return s.apply(a,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(t,i,r){var o=r("./node_modules/core-js/internals/an-object.js");t.exports=function(s,a,l,c){try{return c?a(o(l)[0],l[1]):a(l)}catch(u){var d=s.return;throw d!==void 0&&o(d.call(s)),u}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(t,i,r){var o=r("./node_modules/core-js/internals/well-known-symbol.js"),s=o("iterator"),a=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){a=!0}};c[s]=function(){return this},Array.from(c,function(){throw 2})}catch{}t.exports=function(d,u){if(!u&&!a)return!1;var f=!1;try{var m={};m[s]=function(){return{next:function(){return{done:f=!0}}}},d(m)}catch{}return f}},"./node_modules/core-js/internals/classof-raw.js":function(t,i){var r={}.toString;t.exports=function(o){return r.call(o).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(t,i,r){var o=r("./node_modules/core-js/internals/classof-raw.js"),s=r("./node_modules/core-js/internals/well-known-symbol.js"),a=s("toStringTag"),l=o(function(){return arguments}())=="Arguments",c=function(d,u){try{return d[u]}catch{}};t.exports=function(d){var u,f,m;return d===void 0?"Undefined":d===null?"Null":typeof(f=c(u=Object(d),a))=="string"?f:l?o(u):(m=o(u))=="Object"&&typeof u.callee=="function"?"Arguments":m}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(t,i,r){var o=r("./node_modules/core-js/internals/has.js"),s=r("./node_modules/core-js/internals/own-keys.js"),a=r("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),l=r("./node_modules/core-js/internals/object-define-property.js");t.exports=function(c,d){for(var u=s(d),f=l.f,m=a.f,p=0;p<u.length;p++){var h=u[p];o(c,h)||f(c,h,m(d,h))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(t,i,r){var o=r("./node_modules/core-js/internals/fails.js");t.exports=!o(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(t,i,r){var o=r("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,s=r("./node_modules/core-js/internals/object-create.js"),a=r("./node_modules/core-js/internals/create-property-descriptor.js"),l=r("./node_modules/core-js/internals/set-to-string-tag.js"),c=r("./node_modules/core-js/internals/iterators.js"),d=function(){return this};t.exports=function(u,f,m){var p=f+" Iterator";return u.prototype=s(o,{next:a(1,m)}),l(u,p,!1,!0),c[p]=d,u}},"./node_modules/core-js/internals/create-property-descriptor.js":function(t,i){t.exports=function(r,o){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:o}}},"./node_modules/core-js/internals/create-property.js":function(t,i,r){var o=r("./node_modules/core-js/internals/to-primitive.js"),s=r("./node_modules/core-js/internals/object-define-property.js"),a=r("./node_modules/core-js/internals/create-property-descriptor.js");t.exports=function(l,c,d){var u=o(c);u in l?s.f(l,u,a(0,d)):l[u]=d}},"./node_modules/core-js/internals/define-iterator.js":function(t,i,r){var o=r("./node_modules/core-js/internals/export.js"),s=r("./node_modules/core-js/internals/create-iterator-constructor.js"),a=r("./node_modules/core-js/internals/object-get-prototype-of.js"),l=r("./node_modules/core-js/internals/object-set-prototype-of.js"),c=r("./node_modules/core-js/internals/set-to-string-tag.js"),d=r("./node_modules/core-js/internals/hide.js"),u=r("./node_modules/core-js/internals/redefine.js"),f=r("./node_modules/core-js/internals/well-known-symbol.js"),m=r("./node_modules/core-js/internals/is-pure.js"),p=r("./node_modules/core-js/internals/iterators.js"),h=r("./node_modules/core-js/internals/iterators-core.js"),x=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,y=f("iterator"),g="keys",T="values",P="entries",z=function(){return this};t.exports=function(A,O,K,V,k,pe,re){s(K,O,V);var ve=function(D){if(D===k&&J)return J;if(!v&&D in W)return W[D];switch(D){case g:return function(){return new K(this,D)};case T:return function(){return new K(this,D)};case P:return function(){return new K(this,D)}}return function(){return new K(this)}},et=O+" Iterator",Ae=!1,W=A.prototype,ie=W[y]||W["@@iterator"]||k&&W[k],J=!v&&ie||ve(k),tt=O=="Array"&&W.entries||ie,q,he,we;if(tt&&(q=a(tt.call(new A)),x!==Object.prototype&&q.next&&(!m&&a(q)!==x&&(l?l(q,x):typeof q[y]!="function"&&d(q,y,z)),c(q,et,!0,!0),m&&(p[et]=z))),k==T&&ie&&ie.name!==T&&(Ae=!0,J=function(){return ie.call(this)}),(!m||re)&&W[y]!==J&&d(W,y,J),p[O]=J,k)if(he={values:ve(T),keys:pe?J:ve(g),entries:ve(P)},re)for(we in he)(v||Ae||!(we in W))&&u(W,we,he[we]);else o({target:O,proto:!0,forced:v||Ae},he);return he}},"./node_modules/core-js/internals/descriptors.js":function(t,i,r){var o=r("./node_modules/core-js/internals/fails.js");t.exports=!o(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/document-create-element.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=r("./node_modules/core-js/internals/is-object.js"),a=o.document,l=s(a)&&s(a.createElement);t.exports=function(c){return l?a.createElement(c):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(t,i){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=r("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=r("./node_modules/core-js/internals/hide.js"),l=r("./node_modules/core-js/internals/redefine.js"),c=r("./node_modules/core-js/internals/set-global.js"),d=r("./node_modules/core-js/internals/copy-constructor-properties.js"),u=r("./node_modules/core-js/internals/is-forced.js");t.exports=function(f,m){var p=f.target,h=f.global,x=f.stat,v,y,g,T,P,z;if(h?y=o:x?y=o[p]||c(p,{}):y=(o[p]||{}).prototype,y)for(g in m){if(P=m[g],f.noTargetGet?(z=s(y,g),T=z&&z.value):T=y[g],v=u(h?g:p+(x?".":"#")+g,f.forced),!v&&T!==void 0){if(typeof P==typeof T)continue;d(P,T)}(f.sham||T&&T.sham)&&a(P,"sham",!0),l(y,g,P,f)}}},"./node_modules/core-js/internals/fails.js":function(t,i){t.exports=function(r){try{return!!r()}catch{return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(t,i,r){var o=r("./node_modules/core-js/internals/shared.js");t.exports=o("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(t,i,r){var o=r("./node_modules/core-js/internals/classof.js"),s=r("./node_modules/core-js/internals/iterators.js"),a=r("./node_modules/core-js/internals/well-known-symbol.js"),l=a("iterator");t.exports=function(c){if(c!=null)return c[l]||c["@@iterator"]||s[o(c)]}},"./node_modules/core-js/internals/global.js":function(t,i,r){(function(o){var s="object",a=function(l){return l&&l.Math==Math&&l};t.exports=a(typeof globalThis==s&&globalThis)||a(typeof window==s&&window)||a(typeof self==s&&self)||a(typeof o==s&&o)||Function("return this")()}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(t,i){var r={}.hasOwnProperty;t.exports=function(o,s){return r.call(o,s)}},"./node_modules/core-js/internals/hidden-keys.js":function(t,i){t.exports={}},"./node_modules/core-js/internals/hide.js":function(t,i,r){var o=r("./node_modules/core-js/internals/descriptors.js"),s=r("./node_modules/core-js/internals/object-define-property.js"),a=r("./node_modules/core-js/internals/create-property-descriptor.js");t.exports=o?function(l,c,d){return s.f(l,c,a(1,d))}:function(l,c,d){return l[c]=d,l}},"./node_modules/core-js/internals/html.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=o.document;t.exports=s&&s.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(t,i,r){var o=r("./node_modules/core-js/internals/descriptors.js"),s=r("./node_modules/core-js/internals/fails.js"),a=r("./node_modules/core-js/internals/document-create-element.js");t.exports=!o&&!s(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(t,i,r){var o=r("./node_modules/core-js/internals/fails.js"),s=r("./node_modules/core-js/internals/classof-raw.js"),a="".split;t.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(l){return s(l)=="String"?a.call(l,""):Object(l)}:Object},"./node_modules/core-js/internals/internal-state.js":function(t,i,r){var o=r("./node_modules/core-js/internals/native-weak-map.js"),s=r("./node_modules/core-js/internals/global.js"),a=r("./node_modules/core-js/internals/is-object.js"),l=r("./node_modules/core-js/internals/hide.js"),c=r("./node_modules/core-js/internals/has.js"),d=r("./node_modules/core-js/internals/shared-key.js"),u=r("./node_modules/core-js/internals/hidden-keys.js"),f=s.WeakMap,m,p,h,x=function(A){return h(A)?p(A):m(A,{})},v=function(A){return function(O){var K;if(!a(O)||(K=p(O)).type!==A)throw TypeError("Incompatible receiver, "+A+" required");return K}};if(o){var y=new f,g=y.get,T=y.has,P=y.set;m=function(A,O){return P.call(y,A,O),O},p=function(A){return g.call(y,A)||{}},h=function(A){return T.call(y,A)}}else{var z=d("state");u[z]=!0,m=function(A,O){return l(A,z,O),O},p=function(A){return c(A,z)?A[z]:{}},h=function(A){return c(A,z)}}t.exports={set:m,get:p,has:h,enforce:x,getterFor:v}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(t,i,r){var o=r("./node_modules/core-js/internals/well-known-symbol.js"),s=r("./node_modules/core-js/internals/iterators.js"),a=o("iterator"),l=Array.prototype;t.exports=function(c){return c!==void 0&&(s.Array===c||l[a]===c)}},"./node_modules/core-js/internals/is-forced.js":function(t,i,r){var o=r("./node_modules/core-js/internals/fails.js"),s=/#|\.prototype\./,a=function(f,m){var p=c[l(f)];return p==u?!0:p==d?!1:typeof m=="function"?o(m):!!m},l=a.normalize=function(f){return String(f).replace(s,".").toLowerCase()},c=a.data={},d=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},"./node_modules/core-js/internals/is-object.js":function(t,i){t.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},"./node_modules/core-js/internals/is-pure.js":function(t,i){t.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(t,i,r){var o=r("./node_modules/core-js/internals/object-get-prototype-of.js"),s=r("./node_modules/core-js/internals/hide.js"),a=r("./node_modules/core-js/internals/has.js"),l=r("./node_modules/core-js/internals/well-known-symbol.js"),c=r("./node_modules/core-js/internals/is-pure.js"),d=l("iterator"),u=!1,f=function(){return this},m,p,h;[].keys&&(h=[].keys(),"next"in h?(p=o(o(h)),p!==Object.prototype&&(m=p)):u=!0),m==null&&(m={}),!c&&!a(m,d)&&s(m,d,f),t.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:u}},"./node_modules/core-js/internals/iterators.js":function(t,i){t.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(t,i,r){var o=r("./node_modules/core-js/internals/fails.js");t.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=r("./node_modules/core-js/internals/function-to-string.js"),a=o.WeakMap;t.exports=typeof a=="function"&&/native code/.test(s.call(a))},"./node_modules/core-js/internals/object-create.js":function(t,i,r){var o=r("./node_modules/core-js/internals/an-object.js"),s=r("./node_modules/core-js/internals/object-define-properties.js"),a=r("./node_modules/core-js/internals/enum-bug-keys.js"),l=r("./node_modules/core-js/internals/hidden-keys.js"),c=r("./node_modules/core-js/internals/html.js"),d=r("./node_modules/core-js/internals/document-create-element.js"),u=r("./node_modules/core-js/internals/shared-key.js"),f=u("IE_PROTO"),m="prototype",p=function(){},h=function(){var x=d("iframe"),v=a.length,y="<",g="script",T=">",P="java"+g+":",z;for(x.style.display="none",c.appendChild(x),x.src=String(P),z=x.contentWindow.document,z.open(),z.write(y+g+T+"document.F=Object"+y+"/"+g+T),z.close(),h=z.F;v--;)delete h[m][a[v]];return h()};t.exports=Object.create||function(v,y){var g;return v!==null?(p[m]=o(v),g=new p,p[m]=null,g[f]=v):g=h(),y===void 0?g:s(g,y)},l[f]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(t,i,r){var o=r("./node_modules/core-js/internals/descriptors.js"),s=r("./node_modules/core-js/internals/object-define-property.js"),a=r("./node_modules/core-js/internals/an-object.js"),l=r("./node_modules/core-js/internals/object-keys.js");t.exports=o?Object.defineProperties:function(d,u){a(d);for(var f=l(u),m=f.length,p=0,h;m>p;)s.f(d,h=f[p++],u[h]);return d}},"./node_modules/core-js/internals/object-define-property.js":function(t,i,r){var o=r("./node_modules/core-js/internals/descriptors.js"),s=r("./node_modules/core-js/internals/ie8-dom-define.js"),a=r("./node_modules/core-js/internals/an-object.js"),l=r("./node_modules/core-js/internals/to-primitive.js"),c=Object.defineProperty;i.f=o?c:function(u,f,m){if(a(u),f=l(f,!0),a(m),s)try{return c(u,f,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(u[f]=m.value),u}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(t,i,r){var o=r("./node_modules/core-js/internals/descriptors.js"),s=r("./node_modules/core-js/internals/object-property-is-enumerable.js"),a=r("./node_modules/core-js/internals/create-property-descriptor.js"),l=r("./node_modules/core-js/internals/to-indexed-object.js"),c=r("./node_modules/core-js/internals/to-primitive.js"),d=r("./node_modules/core-js/internals/has.js"),u=r("./node_modules/core-js/internals/ie8-dom-define.js"),f=Object.getOwnPropertyDescriptor;i.f=o?f:function(p,h){if(p=l(p),h=c(h,!0),u)try{return f(p,h)}catch{}if(d(p,h))return a(!s.f.call(p,h),p[h])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(t,i,r){var o=r("./node_modules/core-js/internals/object-keys-internal.js"),s=r("./node_modules/core-js/internals/enum-bug-keys.js"),a=s.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(c){return o(c,a)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(t,i){i.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(t,i,r){var o=r("./node_modules/core-js/internals/has.js"),s=r("./node_modules/core-js/internals/to-object.js"),a=r("./node_modules/core-js/internals/shared-key.js"),l=r("./node_modules/core-js/internals/correct-prototype-getter.js"),c=a("IE_PROTO"),d=Object.prototype;t.exports=l?Object.getPrototypeOf:function(u){return u=s(u),o(u,c)?u[c]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?d:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(t,i,r){var o=r("./node_modules/core-js/internals/has.js"),s=r("./node_modules/core-js/internals/to-indexed-object.js"),a=r("./node_modules/core-js/internals/array-includes.js"),l=r("./node_modules/core-js/internals/hidden-keys.js"),c=a(!1);t.exports=function(d,u){var f=s(d),m=0,p=[],h;for(h in f)!o(l,h)&&o(f,h)&&p.push(h);for(;u.length>m;)o(f,h=u[m++])&&(~c(p,h)||p.push(h));return p}},"./node_modules/core-js/internals/object-keys.js":function(t,i,r){var o=r("./node_modules/core-js/internals/object-keys-internal.js"),s=r("./node_modules/core-js/internals/enum-bug-keys.js");t.exports=Object.keys||function(l){return o(l,s)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(t,i,r){var o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,a=s&&!o.call({1:2},1);i.f=a?function(c){var d=s(this,c);return!!d&&d.enumerable}:o},"./node_modules/core-js/internals/object-set-prototype-of.js":function(t,i,r){var o=r("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,a={},l;try{l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,l.call(a,[]),s=a instanceof Array}catch{}return function(d,u){return o(d,u),s?l.call(d,u):d.__proto__=u,d}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=r("./node_modules/core-js/internals/object-get-own-property-names.js"),a=r("./node_modules/core-js/internals/object-get-own-property-symbols.js"),l=r("./node_modules/core-js/internals/an-object.js"),c=o.Reflect;t.exports=c&&c.ownKeys||function(u){var f=s.f(l(u)),m=a.f;return m?f.concat(m(u)):f}},"./node_modules/core-js/internals/path.js":function(t,i,r){t.exports=r("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=r("./node_modules/core-js/internals/shared.js"),a=r("./node_modules/core-js/internals/hide.js"),l=r("./node_modules/core-js/internals/has.js"),c=r("./node_modules/core-js/internals/set-global.js"),d=r("./node_modules/core-js/internals/function-to-string.js"),u=r("./node_modules/core-js/internals/internal-state.js"),f=u.get,m=u.enforce,p=String(d).split("toString");s("inspectSource",function(h){return d.call(h)}),(t.exports=function(h,x,v,y){var g=y?!!y.unsafe:!1,T=y?!!y.enumerable:!1,P=y?!!y.noTargetGet:!1;if(typeof v=="function"&&(typeof x=="string"&&!l(v,"name")&&a(v,"name",x),m(v).source=p.join(typeof x=="string"?x:"")),h===o){T?h[x]=v:c(x,v);return}else g?!P&&h[x]&&(T=!0):delete h[x];T?h[x]=v:a(h,x,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(t,i){t.exports=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r}},"./node_modules/core-js/internals/set-global.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=r("./node_modules/core-js/internals/hide.js");t.exports=function(a,l){try{s(o,a,l)}catch{o[a]=l}return l}},"./node_modules/core-js/internals/set-to-string-tag.js":function(t,i,r){var o=r("./node_modules/core-js/internals/object-define-property.js").f,s=r("./node_modules/core-js/internals/has.js"),a=r("./node_modules/core-js/internals/well-known-symbol.js"),l=a("toStringTag");t.exports=function(c,d,u){c&&!s(c=u?c:c.prototype,l)&&o(c,l,{configurable:!0,value:d})}},"./node_modules/core-js/internals/shared-key.js":function(t,i,r){var o=r("./node_modules/core-js/internals/shared.js"),s=r("./node_modules/core-js/internals/uid.js"),a=o("keys");t.exports=function(l){return a[l]||(a[l]=s(l))}},"./node_modules/core-js/internals/shared.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=r("./node_modules/core-js/internals/set-global.js"),a=r("./node_modules/core-js/internals/is-pure.js"),l="__core-js_shared__",c=o[l]||s(l,{});(t.exports=function(d,u){return c[d]||(c[d]=u!==void 0?u:{})})("versions",[]).push({version:"3.1.3",mode:a?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(t,i,r){var o=r("./node_modules/core-js/internals/to-integer.js"),s=r("./node_modules/core-js/internals/require-object-coercible.js");t.exports=function(a,l,c){var d=String(s(a)),u=o(l),f=d.length,m,p;return u<0||u>=f?c?"":void 0:(m=d.charCodeAt(u),m<55296||m>56319||u+1===f||(p=d.charCodeAt(u+1))<56320||p>57343?c?d.charAt(u):m:c?d.slice(u,u+2):(m-55296<<10)+(p-56320)+65536)}},"./node_modules/core-js/internals/to-absolute-index.js":function(t,i,r){var o=r("./node_modules/core-js/internals/to-integer.js"),s=Math.max,a=Math.min;t.exports=function(l,c){var d=o(l);return d<0?s(d+c,0):a(d,c)}},"./node_modules/core-js/internals/to-indexed-object.js":function(t,i,r){var o=r("./node_modules/core-js/internals/indexed-object.js"),s=r("./node_modules/core-js/internals/require-object-coercible.js");t.exports=function(a){return o(s(a))}},"./node_modules/core-js/internals/to-integer.js":function(t,i){var r=Math.ceil,o=Math.floor;t.exports=function(s){return isNaN(s=+s)?0:(s>0?o:r)(s)}},"./node_modules/core-js/internals/to-length.js":function(t,i,r){var o=r("./node_modules/core-js/internals/to-integer.js"),s=Math.min;t.exports=function(a){return a>0?s(o(a),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(t,i,r){var o=r("./node_modules/core-js/internals/require-object-coercible.js");t.exports=function(s){return Object(o(s))}},"./node_modules/core-js/internals/to-primitive.js":function(t,i,r){var o=r("./node_modules/core-js/internals/is-object.js");t.exports=function(s,a){if(!o(s))return s;var l,c;if(a&&typeof(l=s.toString)=="function"&&!o(c=l.call(s))||typeof(l=s.valueOf)=="function"&&!o(c=l.call(s))||!a&&typeof(l=s.toString)=="function"&&!o(c=l.call(s)))return c;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(t,i){var r=0,o=Math.random();t.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++r+o).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(t,i,r){var o=r("./node_modules/core-js/internals/is-object.js"),s=r("./node_modules/core-js/internals/an-object.js");t.exports=function(a,l){if(s(a),!o(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(t,i,r){var o=r("./node_modules/core-js/internals/global.js"),s=r("./node_modules/core-js/internals/shared.js"),a=r("./node_modules/core-js/internals/uid.js"),l=r("./node_modules/core-js/internals/native-symbol.js"),c=o.Symbol,d=s("wks");t.exports=function(u){return d[u]||(d[u]=l&&c[u]||(l?c:a)("Symbol."+u))}},"./node_modules/core-js/modules/es.array.from.js":function(t,i,r){var o=r("./node_modules/core-js/internals/export.js"),s=r("./node_modules/core-js/internals/array-from.js"),a=r("./node_modules/core-js/internals/check-correctness-of-iteration.js"),l=!a(function(c){Array.from(c)});o({target:"Array",stat:!0,forced:l},{from:s})},"./node_modules/core-js/modules/es.string.iterator.js":function(t,i,r){var o=r("./node_modules/core-js/internals/string-at.js"),s=r("./node_modules/core-js/internals/internal-state.js"),a=r("./node_modules/core-js/internals/define-iterator.js"),l="String Iterator",c=s.set,d=s.getterFor(l);a(String,"String",function(u){c(this,{type:l,string:String(u),index:0})},function(){var f=d(this),m=f.string,p=f.index,h;return p>=m.length?{value:void 0,done:!0}:(h=o(m,p,!0),f.index+=h.length,{value:h,done:!1})})},"./node_modules/webpack/buildin/global.js":function(t,i){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(r=window)}t.exports=r},"./src/default-attrs.json":function(t){t.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=Object.assign||function(h){for(var x=1;x<arguments.length;x++){var v=arguments[x];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y])}return h},s=function(){function h(x,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}return function(x,v,y){return v&&h(x.prototype,v),y&&h(x,y),x}}(),a=r("./node_modules/classnames/dedupe.js"),l=u(a),c=r("./src/default-attrs.json"),d=u(c);function u(h){return h&&h.__esModule?h:{default:h}}function f(h,x){if(!(h instanceof x))throw new TypeError("Cannot call a class as a function")}var m=function(){function h(x,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];f(this,h),this.name=x,this.contents=v,this.tags=y,this.attrs=o({},d.default,{class:"feather feather-"+x})}return s(h,[{key:"toSvg",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=o({},this.attrs,v,{class:(0,l.default)(this.attrs.class,v.class)});return"<svg "+p(y)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),h}();function p(h){return Object.keys(h).map(function(x){return x+'="'+h[x]+'"'}).join(" ")}i.default=m},"./src/icons.js":function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r("./src/icon.js"),s=u(o),a=r("./dist/icons.json"),l=u(a),c=r("./src/tags.json"),d=u(c);function u(f){return f&&f.__esModule?f:{default:f}}i.default=Object.keys(l.default).map(function(f){return new s.default(f,l.default[f],d.default[f])}).reduce(function(f,m){return f[m.name]=m,f},{})},"./src/index.js":function(t,i,r){var o=r("./src/icons.js"),s=u(o),a=r("./src/to-svg.js"),l=u(a),c=r("./src/replace.js"),d=u(c);function u(f){return f&&f.__esModule?f:{default:f}}t.exports={icons:s.default,toSvg:l.default,replace:d.default}},"./src/replace.js":function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(p[v]=x[v])}return p},s=r("./node_modules/classnames/dedupe.js"),a=d(s),l=r("./src/icons.js"),c=d(l);function d(p){return p&&p.__esModule?p:{default:p}}function u(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var h=document.querySelectorAll("[data-feather]");Array.from(h).forEach(function(x){return f(x,p)})}function f(p){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=m(p),v=x["data-feather"];if(delete x["data-feather"],c.default[v]===void 0){console.warn("feather: '"+v+"' is not a valid icon");return}var y=c.default[v].toSvg(o({},h,x,{class:(0,a.default)(h.class,x.class)})),g=new DOMParser().parseFromString(y,"image/svg+xml"),T=g.querySelector("svg");p.parentNode.replaceChild(T,p)}function m(p){return Array.from(p.attributes).reduce(function(h,x){return h[x.name]=x.value,h},{})}i.default=u},"./src/tags.json":function(t){t.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],"chevron-down":["expand"],"chevron-up":["collapse"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-buoy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r("./src/icons.js"),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!c)throw new Error("The required `key` (icon name) parameter is missing.");if(!s.default[c])throw new Error("No icon matching '"+c+"'. See the complete list of icons at https://feathericons.com");return s.default[c].toSvg(d)}i.default=l},0:function(t,i,r){r("./node_modules/core-js/es/array/from.js"),t.exports=r("./src/index.js")}})})}(je)),je.exports}var Gt=$t();const Le=Ut(Gt);async function vt(){return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(t=>t.stop()),(await navigator.mediaDevices.enumerateDevices()).filter(t=>t.kind==="videoinput")}async function Kt(n,e){console.log("Opening camera",n.label);const t=await navigator.mediaDevices.getUserMedia({audio:!1,video:{deviceId:{exact:n.deviceId},width:{ideal:e.width},height:{ideal:e.height},resizeMode:{exact:"none"}}});return{subject:t,stop:()=>Promise.resolve(t.getTracks().forEach(i=>i.stop()))}}function Qt(n){function e(){let t=!1;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0)}(navigator.userAgent),t}return!e()||n.getVideoTracks().some(t=>t.getCapabilities().facingMode?.includes("user"))}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function j(n){if(!n)throw new Error("Assertion failed.")}const N=n=>n&&n[n.length-1],ce=n=>n>=0&&n<2**32;class ge{constructor(e){this.bytes=e,this.pos=0}seekToByte(e){this.pos=8*e}readBit(){const e=Math.floor(this.pos/8),t=this.bytes[e]??0,i=7-(this.pos&7),r=(t&1<<i)>>i;return this.pos++,r}readBits(e){let t=0;for(let i=0;i<e;i++)t<<=1,t|=this.readBit();return t}readAlignedByte(){if(this.pos%8!==0)throw new Error("Bitstream is not byte-aligned.");const e=this.pos/8,t=this.bytes[e]??0;return this.pos+=8,t}skipBits(e){this.pos+=e}getBitsLeft(){return this.bytes.length*8-this.pos}clone(){const e=new ge(this.bytes);return e.pos=this.pos,e}}const b=n=>{let e=0;for(;n.readBit()===0&&e<32;)e++;if(e>=32)throw new Error("Invalid exponential-Golomb code.");return(1<<e)-1+n.readBits(e)},ye=n=>{const e=b(n);return(e&1)===0?-(e>>1):e+1>>1},Z=n=>n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength),Dt=n=>n instanceof DataView?n:n instanceof ArrayBuffer?new DataView(n):new DataView(n.buffer,n.byteOffset,n.byteLength),se=new TextEncoder,Ne=n=>Object.fromEntries(Object.entries(n).map(([e,t])=>[t,e])),Ee={bt709:1,bt470bg:5,smpte170m:6,bt2020:9,smpte432:12};Ne(Ee);const Me={bt709:1,smpte170m:6,linear:8,"iec61966-2-1":13,pg:16,hlg:18};Ne(Me);const ke={rgb:0,bt709:1,bt470bg:5,smpte170m:6,"bt2020-ncl":9};Ne(ke);const Yt=n=>!!n&&!!n.primaries&&!!n.transfer&&!!n.matrix&&n.fullRange!==void 0,$e=n=>n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer||ArrayBuffer.isView(n);class wt{constructor(){this.currentPromise=Promise.resolve()}async acquire(){let e;const t=new Promise(r=>{e=r}),i=this.currentPromise;return this.currentPromise=t,await i,e}}const Xt=()=>{let n,e;return{promise:new Promise((i,r)=>{n=i,e=r}),resolve:n,reject:e}},Zt="und",Jt=/^[a-z]{3}$/,qt=n=>Jt.test(n),ae=1e6*(1+Number.EPSILON),en=(n,e)=>{const t=n<0?-1:1;n=Math.abs(n);let i=0,r=1,o=1,s=0,a=n;for(;;){const l=Math.floor(a),c=l*o+i,d=l*s+r;if(d>e)return{numerator:t*o,denominator:s};if(i=o,r=s,o=c,s=d,a=1/(a-l),!isFinite(a))break}return{numerator:t*o,denominator:s}};class tn{constructor(){this.currentPromise=Promise.resolve()}call(e){return this.currentPromise=this.currentPromise.then(e)}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const nn=[];/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const ee=["avc","hevc","vp9","av1","vp8"],te=["pcm-s16","pcm-s16be","pcm-s24","pcm-s24be","pcm-s32","pcm-s32be","pcm-f32","pcm-f32be","pcm-f64","pcm-f64be","pcm-u8","pcm-s8","ulaw","alaw"],bt=["aac","opus","mp3","vorbis","flac"],Ce=[...bt,...te],Se=["webvtt"],it=[{maxMacroblocks:99,maxBitrate:64e3,level:10},{maxMacroblocks:396,maxBitrate:192e3,level:11},{maxMacroblocks:396,maxBitrate:384e3,level:12},{maxMacroblocks:396,maxBitrate:768e3,level:13},{maxMacroblocks:396,maxBitrate:2e6,level:20},{maxMacroblocks:792,maxBitrate:4e6,level:21},{maxMacroblocks:1620,maxBitrate:4e6,level:22},{maxMacroblocks:1620,maxBitrate:1e7,level:30},{maxMacroblocks:3600,maxBitrate:14e6,level:31},{maxMacroblocks:5120,maxBitrate:2e7,level:32},{maxMacroblocks:8192,maxBitrate:2e7,level:40},{maxMacroblocks:8192,maxBitrate:5e7,level:41},{maxMacroblocks:8704,maxBitrate:5e7,level:42},{maxMacroblocks:22080,maxBitrate:135e6,level:50},{maxMacroblocks:36864,maxBitrate:24e7,level:51},{maxMacroblocks:36864,maxBitrate:24e7,level:52},{maxMacroblocks:139264,maxBitrate:24e7,level:60},{maxMacroblocks:139264,maxBitrate:48e7,level:61},{maxMacroblocks:139264,maxBitrate:8e8,level:62}],ot=[{maxPictureSize:36864,maxBitrate:128e3,tier:"L",level:30},{maxPictureSize:122880,maxBitrate:15e5,tier:"L",level:60},{maxPictureSize:245760,maxBitrate:3e6,tier:"L",level:63},{maxPictureSize:552960,maxBitrate:6e6,tier:"L",level:90},{maxPictureSize:983040,maxBitrate:1e7,tier:"L",level:93},{maxPictureSize:2228224,maxBitrate:12e6,tier:"L",level:120},{maxPictureSize:2228224,maxBitrate:3e7,tier:"H",level:120},{maxPictureSize:2228224,maxBitrate:2e7,tier:"L",level:123},{maxPictureSize:2228224,maxBitrate:5e7,tier:"H",level:123},{maxPictureSize:8912896,maxBitrate:25e6,tier:"L",level:150},{maxPictureSize:8912896,maxBitrate:1e8,tier:"H",level:150},{maxPictureSize:8912896,maxBitrate:4e7,tier:"L",level:153},{maxPictureSize:8912896,maxBitrate:16e7,tier:"H",level:153},{maxPictureSize:8912896,maxBitrate:6e7,tier:"L",level:156},{maxPictureSize:8912896,maxBitrate:24e7,tier:"H",level:156},{maxPictureSize:35651584,maxBitrate:6e7,tier:"L",level:180},{maxPictureSize:35651584,maxBitrate:24e7,tier:"H",level:180},{maxPictureSize:35651584,maxBitrate:12e7,tier:"L",level:183},{maxPictureSize:35651584,maxBitrate:48e7,tier:"H",level:183},{maxPictureSize:35651584,maxBitrate:24e7,tier:"L",level:186},{maxPictureSize:35651584,maxBitrate:8e8,tier:"H",level:186}],st=[{maxPictureSize:36864,maxBitrate:2e5,level:10},{maxPictureSize:73728,maxBitrate:8e5,level:11},{maxPictureSize:122880,maxBitrate:18e5,level:20},{maxPictureSize:245760,maxBitrate:36e5,level:21},{maxPictureSize:552960,maxBitrate:72e5,level:30},{maxPictureSize:983040,maxBitrate:12e6,level:31},{maxPictureSize:2228224,maxBitrate:18e6,level:40},{maxPictureSize:2228224,maxBitrate:3e7,level:41},{maxPictureSize:8912896,maxBitrate:6e7,level:50},{maxPictureSize:8912896,maxBitrate:12e7,level:51},{maxPictureSize:8912896,maxBitrate:18e7,level:52},{maxPictureSize:35651584,maxBitrate:18e7,level:60},{maxPictureSize:35651584,maxBitrate:24e7,level:61},{maxPictureSize:35651584,maxBitrate:48e7,level:62}],at=[{maxPictureSize:147456,maxBitrate:15e5,tier:"M",level:0},{maxPictureSize:278784,maxBitrate:3e6,tier:"M",level:1},{maxPictureSize:665856,maxBitrate:6e6,tier:"M",level:4},{maxPictureSize:1065024,maxBitrate:1e7,tier:"M",level:5},{maxPictureSize:2359296,maxBitrate:12e6,tier:"M",level:8},{maxPictureSize:2359296,maxBitrate:3e7,tier:"H",level:8},{maxPictureSize:2359296,maxBitrate:2e7,tier:"M",level:9},{maxPictureSize:2359296,maxBitrate:5e7,tier:"H",level:9},{maxPictureSize:8912896,maxBitrate:3e7,tier:"M",level:12},{maxPictureSize:8912896,maxBitrate:1e8,tier:"H",level:12},{maxPictureSize:8912896,maxBitrate:4e7,tier:"M",level:13},{maxPictureSize:8912896,maxBitrate:16e7,tier:"H",level:13},{maxPictureSize:8912896,maxBitrate:6e7,tier:"M",level:14},{maxPictureSize:8912896,maxBitrate:24e7,tier:"H",level:14},{maxPictureSize:35651584,maxBitrate:6e7,tier:"M",level:15},{maxPictureSize:35651584,maxBitrate:24e7,tier:"H",level:15},{maxPictureSize:35651584,maxBitrate:6e7,tier:"M",level:16},{maxPictureSize:35651584,maxBitrate:24e7,tier:"H",level:16},{maxPictureSize:35651584,maxBitrate:1e8,tier:"M",level:17},{maxPictureSize:35651584,maxBitrate:48e7,tier:"H",level:17},{maxPictureSize:35651584,maxBitrate:16e7,tier:"M",level:18},{maxPictureSize:35651584,maxBitrate:8e8,tier:"H",level:18},{maxPictureSize:35651584,maxBitrate:16e7,tier:"M",level:19},{maxPictureSize:35651584,maxBitrate:8e8,tier:"H",level:19}],rn=(n,e,t,i)=>{if(n==="avc"){const o=Math.ceil(e/16)*Math.ceil(t/16),s=it.find(u=>o<=u.maxMacroblocks&&i<=u.maxBitrate)??N(it),a=s?s.level:0,l="64".padStart(2,"0"),c="00",d=a.toString(16).padStart(2,"0");return`avc1.${l}${c}${d}`}else if(n==="hevc"){const r="",s="6",a=e*t,l=ot.find(d=>a<=d.maxPictureSize&&i<=d.maxBitrate)??N(ot);return`hev1.${r}1.${s}.${l.tier}${l.level}.B0`}else{if(n==="vp8")return"vp8";if(n==="vp9"){const r="00",o=e*t,s=st.find(l=>o<=l.maxPictureSize&&i<=l.maxBitrate)??N(st);return`vp09.${r}.${s.level.toString().padStart(2,"0")}.08`}else if(n==="av1"){const o=e*t,s=at.find(c=>o<=c.maxPictureSize&&i<=c.maxBitrate)??N(at);return`av01.0.${s.level.toString().padStart(2,"0")}${s.tier}.08`}}throw new TypeError(`Unhandled codec '${n}'.`)},on=n=>{const e=n.split("."),r=(1<<7)+1,o=Number(e[1]),s=e[2],a=Number(s.slice(0,-1)),l=(o<<5)+a,c=s.slice(-1)==="H"?1:0,u=Number(e[3])===8?0:1,f=0,m=e[4]?Number(e[4]):0,p=e[5]?Number(e[5][0]):1,h=e[5]?Number(e[5][1]):1,x=e[5]?Number(e[5][2]):0,v=(c<<7)+(u<<6)+(f<<5)+(m<<4)+(p<<3)+(h<<2)+x;return[r,l,v,0]},jt=/^pcm-([usf])(\d+)+(be)?$/,xe=n=>{if(j(te.includes(n)),n==="ulaw")return{dataType:"ulaw",sampleSize:1,littleEndian:!0,silentValue:255};if(n==="alaw")return{dataType:"alaw",sampleSize:1,littleEndian:!0,silentValue:213};const e=jt.exec(n);j(e);let t;e[1]==="u"?t="unsigned":e[1]==="s"?t="signed":t="float";const i=Number(e[2])/8,r=e[3]!=="be",o=n==="pcm-u8"?2**7:0;return{dataType:t,sampleSize:i,littleEndian:r,silentValue:o}},sn=n=>n.startsWith("avc1")||n.startsWith("avc3")?"avc":n.startsWith("hev1")||n.startsWith("hvc1")?"hevc":n==="vp8"?"vp8":n.startsWith("vp09")?"vp9":n.startsWith("av01")?"av1":n.startsWith("mp4a.40")||n==="mp4a.67"?"aac":n==="mp3"||n==="mp4a.69"||n==="mp4a.6B"||n==="mp4a.6b"?"mp3":n==="opus"?"opus":n==="vorbis"?"vorbis":n==="flac"?"flac":n==="ulaw"?"ulaw":n==="alaw"?"alaw":jt.test(n)?n:n==="webvtt"?"webvtt":null,an=n=>n==="avc"?{avc:{format:"avc"}}:n==="hevc"?{hevc:{format:"hevc"}}:{};class Ge{constructor(e){this._factor=e}_toVideoBitrate(e,t,i){const r=t*i,o={avc:1,hevc:.6,vp9:.6,av1:.4,vp8:1.2},s=1920*1080,a=3e6,l=Math.pow(r/s,.95),u=a*l*o[e]*this._factor;return Math.ceil(u/1e3)*1e3}_toAudioBitrate(e){if(te.includes(e)||e==="flac")return;const i={aac:128e3,opus:64e3,mp3:16e4,vorbis:64e3}[e];if(!i)throw new Error(`Unhandled codec: ${e}`);let r=i*this._factor;return e==="aac"?r=[96e3,128e3,16e4,192e3].reduce((s,a)=>Math.abs(a-r)<Math.abs(s-r)?a:s):e==="opus"||e==="vorbis"?r=Math.max(6e3,r):e==="mp3"&&(r=[8e3,16e3,24e3,32e3,4e4,48e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4].reduce((s,a)=>Math.abs(a-r)<Math.abs(s-r)?a:s)),Math.round(r/1e3)*1e3}}const ln=new Ge(4),cn=["avc1","avc3","hev1","hvc1","vp8","vp09","av01"],dn=/^(avc1|avc3)\.[0-9a-fA-F]{6}$/,un=/^(hev1|hvc1)\.(?:[ABC]?\d+)\.[0-9a-fA-F]{1,8}\.[LH]\d+(?:\.[0-9a-fA-F]{1,2}){0,6}$/,pn=/^vp09(?:\.\d{2}){3}(?:(?:\.\d{2}){5})?$/,hn=/^av01\.\d\.\d{2}[MH]\.\d{2}(?:\.\d\.\d{3}\.\d{2}\.\d{2}\.\d{2}\.\d)?$/,fn=n=>{if(!n)throw new TypeError("Video chunk metadata must be provided.");if(typeof n!="object")throw new TypeError("Video chunk metadata must be an object.");if(!n.decoderConfig)throw new TypeError("Video chunk metadata must include a decoder configuration.");if(typeof n.decoderConfig!="object")throw new TypeError("Video chunk metadata decoder configuration must be an object.");if(typeof n.decoderConfig.codec!="string")throw new TypeError("Video chunk metadata decoder configuration must specify a codec string.");if(!cn.some(e=>n.decoderConfig.codec.startsWith(e)))throw new TypeError("Video chunk metadata decoder configuration codec string must be a valid video codec string as specified in the WebCodecs Codec Registry.");if(!Number.isInteger(n.decoderConfig.codedWidth)||n.decoderConfig.codedWidth<=0)throw new TypeError("Video chunk metadata decoder configuration must specify a valid codedWidth (positive integer).");if(!Number.isInteger(n.decoderConfig.codedHeight)||n.decoderConfig.codedHeight<=0)throw new TypeError("Video chunk metadata decoder configuration must specify a valid codedHeight (positive integer).");if(n.decoderConfig.description!==void 0&&!$e(n.decoderConfig.description))throw new TypeError("Video chunk metadata decoder configuration description, when defined, must be an ArrayBuffer or an ArrayBuffer view.");if(n.decoderConfig.colorSpace!==void 0){const{colorSpace:e}=n.decoderConfig;if(typeof e!="object")throw new TypeError("Video chunk metadata decoder configuration colorSpace, when provided, must be an object.");const t=Object.keys(Ee);if(e.primaries!=null&&!t.includes(e.primaries))throw new TypeError(`Video chunk metadata decoder configuration colorSpace primaries, when defined, must be one of ${t.join(", ")}.`);const i=Object.keys(Me);if(e.transfer!=null&&!i.includes(e.transfer))throw new TypeError(`Video chunk metadata decoder configuration colorSpace transfer, when defined, must be one of ${i.join(", ")}.`);const r=Object.keys(ke);if(e.matrix!=null&&!r.includes(e.matrix))throw new TypeError(`Video chunk metadata decoder configuration colorSpace matrix, when defined, must be one of ${r.join(", ")}.`);if(e.fullRange!=null&&typeof e.fullRange!="boolean")throw new TypeError("Video chunk metadata decoder configuration colorSpace fullRange, when defined, must be a boolean.")}if(n.decoderConfig.codec.startsWith("avc1")||n.decoderConfig.codec.startsWith("avc3")){if(!dn.test(n.decoderConfig.codec))throw new TypeError("Video chunk metadata decoder configuration codec string for AVC must be a valid AVC codec string as specified in Section 3.4 of RFC 6381.")}else if(n.decoderConfig.codec.startsWith("hev1")||n.decoderConfig.codec.startsWith("hvc1")){if(!un.test(n.decoderConfig.codec))throw new TypeError("Video chunk metadata decoder configuration codec string for HEVC must be a valid HEVC codec string as specified in Section E.3 of ISO 14496-15.")}else if(n.decoderConfig.codec.startsWith("vp8")){if(n.decoderConfig.codec!=="vp8")throw new TypeError('Video chunk metadata decoder configuration codec string for VP8 must be "vp8".')}else if(n.decoderConfig.codec.startsWith("vp09")){if(!pn.test(n.decoderConfig.codec))throw new TypeError('Video chunk metadata decoder configuration codec string for VP9 must be a valid VP9 codec string as specified in Section "Codecs Parameter String" of https://www.webmproject.org/vp9/mp4/.')}else if(n.decoderConfig.codec.startsWith("av01")&&!hn.test(n.decoderConfig.codec))throw new TypeError('Video chunk metadata decoder configuration codec string for AV1 must be a valid AV1 codec string as specified in Section "Codecs Parameter String" of https://aomediacodec.github.io/av1-isobmff/.')},mn=["mp4a","mp3","opus","vorbis","flac","ulaw","alaw","pcm"],yn=n=>{if(!n)throw new TypeError("Audio chunk metadata must be provided.");if(typeof n!="object")throw new TypeError("Audio chunk metadata must be an object.");if(!n.decoderConfig)throw new TypeError("Audio chunk metadata must include a decoder configuration.");if(typeof n.decoderConfig!="object")throw new TypeError("Audio chunk metadata decoder configuration must be an object.");if(typeof n.decoderConfig.codec!="string")throw new TypeError("Audio chunk metadata decoder configuration must specify a codec string.");if(!mn.some(e=>n.decoderConfig.codec.startsWith(e)))throw new TypeError("Audio chunk metadata decoder configuration codec string must be a valid audio codec string as specified in the WebCodecs Codec Registry.");if(!Number.isInteger(n.decoderConfig.sampleRate)||n.decoderConfig.sampleRate<=0)throw new TypeError("Audio chunk metadata decoder configuration must specify a valid sampleRate (positive integer).");if(!Number.isInteger(n.decoderConfig.numberOfChannels)||n.decoderConfig.numberOfChannels<=0)throw new TypeError("Audio chunk metadata decoder configuration must specify a valid numberOfChannels (positive integer).");if(n.decoderConfig.description!==void 0&&!$e(n.decoderConfig.description))throw new TypeError("Audio chunk metadata decoder configuration description, when defined, must be an ArrayBuffer or an ArrayBuffer view.");if(n.decoderConfig.codec.startsWith("mp4a")&&n.decoderConfig.codec!=="mp4a.69"&&n.decoderConfig.codec!=="mp4a.6B"&&n.decoderConfig.codec!=="mp4a.6b"){if(!["mp4a.40.2","mp4a.40.02","mp4a.40.5","mp4a.40.05","mp4a.40.29","mp4a.67"].includes(n.decoderConfig.codec))throw new TypeError("Audio chunk metadata decoder configuration codec string for AAC must be a valid AAC codec string as specified in https://www.w3.org/TR/webcodecs-aac-codec-registration/.");if(!n.decoderConfig.description)throw new TypeError("Audio chunk metadata decoder configuration for AAC must include a description, which is expected to be an AudioSpecificConfig as specified in ISO 14496-3.")}else if(n.decoderConfig.codec.startsWith("mp3")||n.decoderConfig.codec.startsWith("mp4a")){if(n.decoderConfig.codec!=="mp3"&&n.decoderConfig.codec!=="mp4a.69"&&n.decoderConfig.codec!=="mp4a.6B"&&n.decoderConfig.codec!=="mp4a.6b")throw new TypeError('Audio chunk metadata decoder configuration codec string for MP3 must be "mp3", "mp4a.69" or "mp4a.6B".')}else if(n.decoderConfig.codec.startsWith("opus")){if(n.decoderConfig.codec!=="opus")throw new TypeError('Audio chunk metadata decoder configuration codec string for Opus must be "opus".');if(n.decoderConfig.description&&n.decoderConfig.description.byteLength<18)throw new TypeError("Audio chunk metadata decoder configuration description, when specified, is expected to be an Identification Header as specified in Section 5.1 of RFC 7845.")}else if(n.decoderConfig.codec.startsWith("vorbis")){if(n.decoderConfig.codec!=="vorbis")throw new TypeError('Audio chunk metadata decoder configuration codec string for Vorbis must be "vorbis".');if(!n.decoderConfig.description)throw new TypeError("Audio chunk metadata decoder configuration for Vorbis must include a description, which is expected to adhere to the format described in https://www.w3.org/TR/webcodecs-vorbis-codec-registration/.")}else if(n.decoderConfig.codec.startsWith("flac")){if(n.decoderConfig.codec!=="flac")throw new TypeError('Audio chunk metadata decoder configuration codec string for FLAC must be "flac".');if(!n.decoderConfig.description||n.decoderConfig.description.byteLength<42)throw new TypeError("Audio chunk metadata decoder configuration for FLAC must include a description, which is expected to adhere to the format described in https://www.w3.org/TR/webcodecs-flac-codec-registration/.")}else if((n.decoderConfig.codec.startsWith("pcm")||n.decoderConfig.codec.startsWith("ulaw")||n.decoderConfig.codec.startsWith("alaw"))&&!te.includes(n.decoderConfig.codec))throw new TypeError(`Audio chunk metadata decoder configuration codec string for PCM must be one of the supported PCM codecs (${te.join(", ")}).`)},gn=n=>{if(!n)throw new TypeError("Subtitle metadata must be provided.");if(typeof n!="object")throw new TypeError("Subtitle metadata must be an object.");if(!n.config)throw new TypeError("Subtitle metadata must include a config object.");if(typeof n.config!="object")throw new TypeError("Subtitle metadata config must be an object.");if(typeof n.config.description!="string")throw new TypeError("Subtitle metadata config description must be a string.")};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const lt=/<(?:(\d{2}):)?(\d{2}):(\d{2}).(\d{3})>/g,xn=n=>{const e=Math.floor(n/36e5),t=Math.floor(n%(60*60*1e3)/(60*1e3)),i=Math.floor(n%(60*1e3)/1e3),r=n%1e3;return e.toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+"."+r.toString().padStart(3,"0")};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const Ke=n=>{const e=[];let t=0;for(;t<n.length;){let i=-1,r=0;for(let o=t;o<n.length-3;o++){if(n[o]===0&&n[o+1]===0&&n[o+2]===1){i=o,r=3;break}if(o<n.length-4&&n[o]===0&&n[o+1]===0&&n[o+2]===0&&n[o+3]===1){i=o,r=4;break}}if(i===-1)break;if(t>0&&i>t){const o=n.subarray(t,i);o.length>0&&e.push(o)}t=i+r}if(t<n.length){const i=n.subarray(t);i.length>0&&e.push(i)}return e},He=n=>{const e=[],t=n.length;for(let i=0;i<t;i++)i+2<t&&n[i]===0&&n[i+1]===0&&n[i+2]===3?(e.push(0,0),i+=2):e.push(n[i]);return new Uint8Array(e)},vn=n=>{const t=Ke(n);if(t.length===0)return null;let i=0;for(const a of t)i+=4+a.byteLength;const r=new Uint8Array(i),o=new DataView(r.buffer);let s=0;for(const a of t){const l=a.byteLength;o.setUint32(s,l,!1),s+=4,r.set(a,s),s+=a.byteLength}return r},Pe=n=>n[0]&31,wn=n=>{try{const e=Ke(n),t=e.filter(f=>Pe(f)===7),i=e.filter(f=>Pe(f)===8),r=e.filter(f=>Pe(f)===13);if(t.length===0||i.length===0)return null;const o=t[0],s=new ge(He(o));if(s.skipBits(1),s.skipBits(2),s.readBits(5)!==7)return console.error("Invalid SPS NAL unit type"),null;const l=s.readAlignedByte(),c=s.readAlignedByte(),d=s.readAlignedByte(),u={configurationVersion:1,avcProfileIndication:l,profileCompatibility:c,avcLevelIndication:d,lengthSizeMinusOne:3,sequenceParameterSets:t,pictureParameterSets:i,chromaFormat:null,bitDepthLumaMinus8:null,bitDepthChromaMinus8:null,sequenceParameterSetExt:null};if(l===100||l===110||l===122||l===144){b(s);const f=b(s);f===3&&s.skipBits(1);const m=b(s),p=b(s);u.chromaFormat=f,u.bitDepthLumaMinus8=m,u.bitDepthChromaMinus8=p,u.sequenceParameterSetExt=r}return u}catch(e){return console.error("Error building AVC Decoder Configuration Record:",e),null}},bn=n=>{const e=[];e.push(n.configurationVersion),e.push(n.avcProfileIndication),e.push(n.profileCompatibility),e.push(n.avcLevelIndication),e.push(252|n.lengthSizeMinusOne&3),e.push(224|n.sequenceParameterSets.length&31);for(const t of n.sequenceParameterSets){const i=t.byteLength;e.push(i>>8),e.push(i&255);for(let r=0;r<i;r++)e.push(t[r])}e.push(n.pictureParameterSets.length);for(const t of n.pictureParameterSets){const i=t.byteLength;e.push(i>>8),e.push(i&255);for(let r=0;r<i;r++)e.push(t[r])}if(n.avcProfileIndication===100||n.avcProfileIndication===110||n.avcProfileIndication===122||n.avcProfileIndication===144){j(n.chromaFormat!==null),j(n.bitDepthLumaMinus8!==null),j(n.bitDepthChromaMinus8!==null),j(n.sequenceParameterSetExt!==null),e.push(252|n.chromaFormat&3),e.push(248|n.bitDepthLumaMinus8&7),e.push(248|n.bitDepthChromaMinus8&7),e.push(n.sequenceParameterSetExt.length);for(const t of n.sequenceParameterSetExt){const i=t.byteLength;e.push(i>>8),e.push(i&255);for(let r=0;r<i;r++)e.push(t[r])}}return new Uint8Array(e)},ct=32,dt=33,ut=34,jn=39,Tn=40,oe=n=>n[0]>>1&63,Cn=n=>{try{const e=Ke(n),t=e.filter(V=>oe(V)===ct),i=e.filter(V=>oe(V)===dt),r=e.filter(V=>oe(V)===ut),o=e.filter(V=>oe(V)===jn||oe(V)===Tn);if(i.length===0||r.length===0)return null;const s=i[0],a=new ge(He(s));a.skipBits(16),a.readBits(4);const l=a.readBits(3),c=a.readBits(1),{general_profile_space:d,general_tier_flag:u,general_profile_idc:f,general_profile_compatibility_flags:m,general_constraint_indicator_flags:p,general_level_idc:h}=Sn(a,l);b(a);const x=b(a);x===3&&a.skipBits(1),b(a),b(a),a.readBits(1)&&(b(a),b(a),b(a),b(a));const v=b(a),y=b(a);b(a);const T=a.readBits(1)?0:l;for(let V=T;V<=l;V++)b(a),b(a),b(a);b(a),b(a),b(a),b(a),b(a),b(a),a.readBits(1)&&a.readBits(1)&&En(a),a.skipBits(1),a.skipBits(1),a.readBits(1)&&(a.skipBits(4),a.skipBits(4),b(a),b(a),a.skipBits(1));const P=b(a);if(Mn(a,P),a.readBits(1)){const V=b(a);for(let k=0;k<V;k++)b(a),a.skipBits(1)}a.skipBits(1),a.skipBits(1);let z=0;a.readBits(1)&&(z=An(a,l));let A=0;if(r.length>0){const V=r[0],k=new ge(He(V));k.skipBits(16),b(k),b(k),k.skipBits(1),k.skipBits(1),k.skipBits(3),k.skipBits(1),k.skipBits(1),b(k),b(k),ye(k),k.skipBits(1),k.skipBits(1),k.readBits(1)&&b(k),ye(k),ye(k),k.skipBits(1),k.skipBits(1),k.skipBits(1),k.skipBits(1);const pe=k.readBits(1),re=k.readBits(1);!pe&&!re?A=0:pe&&!re?A=2:!pe&&re?A=3:A=0}const O=[...t.length?[{arrayCompleteness:1,nalUnitType:ct,nalUnits:t}]:[],...i.length?[{arrayCompleteness:1,nalUnitType:dt,nalUnits:i}]:[],...r.length?[{arrayCompleteness:1,nalUnitType:ut,nalUnits:r}]:[],...o.length?[{arrayCompleteness:1,nalUnitType:oe(o[0]),nalUnits:o}]:[]];return{configurationVersion:1,generalProfileSpace:d,generalTierFlag:u,generalProfileIdc:f,generalProfileCompatibilityFlags:m,generalConstraintIndicatorFlags:p,generalLevelIdc:h,minSpatialSegmentationIdc:z,parallelismType:A,chromaFormatIdc:x,bitDepthLumaMinus8:v,bitDepthChromaMinus8:y,avgFrameRate:0,constantFrameRate:0,numTemporalLayers:l+1,temporalIdNested:c,lengthSizeMinusOne:3,arrays:O}}catch(e){return console.error("Error building HEVC Decoder Configuration Record:",e),null}},Sn=(n,e)=>{const t=n.readBits(2),i=n.readBits(1),r=n.readBits(5);let o=0;for(let d=0;d<32;d++)o=o<<1|n.readBits(1);const s=new Uint8Array(6);for(let d=0;d<6;d++)s[d]=n.readBits(8);const a=n.readBits(8),l=[],c=[];for(let d=0;d<e;d++)l.push(n.readBits(1)),c.push(n.readBits(1));if(e>0)for(let d=e;d<8;d++)n.skipBits(2);for(let d=0;d<e;d++)l[d]&&n.skipBits(88),c[d]&&n.skipBits(8);return{general_profile_space:t,general_tier_flag:i,general_profile_idc:r,general_profile_compatibility_flags:o,general_constraint_indicator_flags:s,general_level_idc:a}},En=n=>{for(let e=0;e<4;e++)for(let t=0;t<(e===3?2:6);t++)if(!n.readBits(1))b(n);else{const r=Math.min(64,1<<4+(e<<1));e>1&&ye(n);for(let o=0;o<r;o++)ye(n)}},Mn=(n,e)=>{const t=[];for(let i=0;i<e;i++)t[i]=kn(n,i,e,t)},kn=(n,e,t,i)=>{let r=0,o=0,s=0;if(e!==0&&(o=n.readBits(1)),o){if(e===t){const l=b(n);s=e-(l+1)}else s=e-1;n.readBits(1),b(n);const a=i[s]??0;for(let l=0;l<=a;l++)n.readBits(1)||n.readBits(1);r=i[s]}else{const a=b(n),l=b(n);for(let c=0;c<a;c++)b(n),n.readBits(1);for(let c=0;c<l;c++)b(n),n.readBits(1);r=a+l}return r},An=(n,e)=>{if(n.readBits(1)&&n.readBits(8)===255&&(n.readBits(16),n.readBits(16)),n.readBits(1)&&n.readBits(1),n.readBits(1)&&(n.readBits(3),n.readBits(1),n.readBits(1)&&(n.readBits(8),n.readBits(8),n.readBits(8))),n.readBits(1)&&(b(n),b(n)),n.readBits(1),n.readBits(1),n.readBits(1),n.readBits(1)&&(b(n),b(n),b(n),b(n)),n.readBits(1)&&(n.readBits(32),n.readBits(32),n.readBits(1)&&b(n),n.readBits(1)&&Pn(n,!0,e)),n.readBits(1)){n.readBits(1),n.readBits(1),n.readBits(1);const t=b(n);return b(n),b(n),b(n),b(n),t}return 0},Pn=(n,e,t)=>{let i=!1,r=!1,o=!1;i=n.readBits(1)===1,r=n.readBits(1)===1,(i||r)&&(o=n.readBits(1)===1,o&&(n.readBits(8),n.readBits(5),n.readBits(1),n.readBits(5)),n.readBits(4),n.readBits(4),o&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let s=0;s<=t;s++){const a=n.readBits(1)===1;let l=!0;a||(l=n.readBits(1)===1);let c=!1;l?b(n):c=n.readBits(1)===1;let d=1;c||(d=b(n)+1),i&&pt(n,d,o),r&&pt(n,d,o)}},pt=(n,e,t)=>{for(let i=0;i<e;i++)b(n),b(n),t&&(b(n),b(n)),n.readBits(1)},zn=n=>{const e=[];e.push(n.configurationVersion),e.push((n.generalProfileSpace&3)<<6|(n.generalTierFlag&1)<<5|n.generalProfileIdc&31),e.push(n.generalProfileCompatibilityFlags>>>24&255),e.push(n.generalProfileCompatibilityFlags>>>16&255),e.push(n.generalProfileCompatibilityFlags>>>8&255),e.push(n.generalProfileCompatibilityFlags&255),e.push(...n.generalConstraintIndicatorFlags),e.push(n.generalLevelIdc&255),e.push(240|n.minSpatialSegmentationIdc>>8&15),e.push(n.minSpatialSegmentationIdc&255),e.push(252|n.parallelismType&3),e.push(252|n.chromaFormatIdc&3),e.push(248|n.bitDepthLumaMinus8&7),e.push(248|n.bitDepthChromaMinus8&7),e.push(n.avgFrameRate>>8&255),e.push(n.avgFrameRate&255),e.push((n.constantFrameRate&3)<<6|(n.numTemporalLayers&7)<<3|(n.temporalIdNested&1)<<2|n.lengthSizeMinusOne&3),e.push(n.arrays.length&255);for(const t of n.arrays){e.push((t.arrayCompleteness&1)<<7|0|t.nalUnitType&63),e.push(t.nalUnits.length>>8&255),e.push(t.nalUnits.length&255);for(const i of t.nalUnits){e.push(i.length>>8&255),e.push(i.length&255);for(let r=0;r<i.length;r++)e.push(i[r])}}return new Uint8Array(e)},Bn=n=>{const e=Dt(n),t=e.getUint8(9),i=e.getUint16(10,!0),r=e.getUint32(12,!0),o=e.getInt16(16,!0),s=e.getUint8(18);let a=null;return s&&(a=n.subarray(19,21+t)),{outputChannelCount:t,preSkip:i,inputSampleRate:r,outputGain:o,channelMappingFamily:s,channelMappingTable:a}};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class ht{constructor(e){this.writer=e,this.helper=new Uint8Array(8),this.helperView=new DataView(this.helper.buffer),this.offsets=new WeakMap}writeU32(e){this.helperView.setUint32(0,e,!1),this.writer.write(this.helper.subarray(0,4))}writeU64(e){this.helperView.setUint32(0,Math.floor(e/2**32),!1),this.helperView.setUint32(4,e,!1),this.writer.write(this.helper.subarray(0,8))}writeAscii(e){for(let t=0;t<e.length;t++)this.helperView.setUint8(t%8,e.charCodeAt(t)),t%8===7&&this.writer.write(this.helper);e.length%8!==0&&this.writer.write(this.helper.subarray(0,e.length%8))}writeBox(e){if(this.offsets.set(e,this.writer.getPos()),e.contents&&!e.children)this.writeBoxHeader(e,e.size??e.contents.byteLength+8),this.writer.write(e.contents);else{const t=this.writer.getPos();if(this.writeBoxHeader(e,0),e.contents&&this.writer.write(e.contents),e.children)for(const o of e.children)o&&this.writeBox(o);const i=this.writer.getPos(),r=e.size??i-t;this.writer.seek(t),this.writeBoxHeader(e,r),this.writer.seek(i)}}writeBoxHeader(e,t){this.writeU32(e.largeSize?1:t),this.writeAscii(e.type),e.largeSize&&this.writeU64(t)}measureBoxHeader(e){return 8+(e.largeSize?8:0)}patchBox(e){const t=this.offsets.get(e);j(t!==void 0);const i=this.writer.getPos();this.writer.seek(t),this.writeBox(e),this.writer.seek(i)}measureBox(e){if(e.contents&&!e.children)return this.measureBoxHeader(e)+e.contents.byteLength;{let t=this.measureBoxHeader(e);if(e.contents&&(t+=e.contents.byteLength),e.children)for(const i of e.children)i&&(t+=this.measureBox(i));return t}}}const M=new Uint8Array(8),G=new DataView(M.buffer),I=n=>[(n%256+256)%256],C=n=>(G.setUint16(0,n,!1),[M[0],M[1]]),Tt=n=>(G.setInt16(0,n,!1),[M[0],M[1]]),Ct=n=>(G.setUint32(0,n,!1),[M[1],M[2],M[3]]),w=n=>(G.setUint32(0,n,!1),[M[0],M[1],M[2],M[3]]),X=n=>(G.setInt32(0,n,!1),[M[0],M[1],M[2],M[3]]),ne=n=>(G.setUint32(0,Math.floor(n/2**32),!1),G.setUint32(4,n,!1),[M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7]]),St=n=>(G.setInt16(0,2**8*n,!1),[M[0],M[1]]),Q=n=>(G.setInt32(0,2**16*n,!1),[M[0],M[1],M[2],M[3]]),ze=n=>(G.setInt32(0,2**30*n,!1),[M[0],M[1],M[2],M[3]]),Be=(n,e)=>{const t=[];let i=n;do{let r=i&127;i>>=7,t.length>0&&(r|=128),t.push(r)}while(i>0||e);return t.reverse()},L=(n,e=!1)=>{const t=Array(n.length).fill(null).map((i,r)=>n.charCodeAt(r));return e&&t.push(0),t},Qe=n=>{let e=null;for(const t of n)(!e||t.timestamp>e.timestamp)&&(e=t);return e},Et=n=>{const e=n*(Math.PI/180),t=Math.round(Math.cos(e)),i=Math.round(Math.sin(e));return[t,i,0,-i,t,0,0,0,1]},Mt=Et(0),kt=n=>[Q(n[0]),Q(n[1]),ze(n[2]),Q(n[3]),Q(n[4]),ze(n[5]),Q(n[6]),Q(n[7]),ze(n[8])],E=(n,e,t)=>({type:n,contents:e&&new Uint8Array(e.flat(10)),children:t}),B=(n,e,t,i,r)=>E(n,[I(e),Ct(t),i??[]],r),_n=n=>n.isQuickTime?E("ftyp",[L("qt  "),w(512),L("qt  ")]):n.fragmented?E("ftyp",[L("iso5"),w(512),L("iso5"),L("iso6"),L("mp41")]):E("ftyp",[L("isom"),w(512),L("isom"),n.holdsAvc?L("avc1"):[],L("mp41")]),_e=n=>({type:"mdat",largeSize:n}),be=(n,e,t=!1)=>E("moov",void 0,[In(e,n),...n.map(i=>On(i,e)),t?gr(n):null]),In=(n,e)=>{const t=F(Math.max(0,...e.filter(s=>s.samples.length>0).map(s=>{const a=Qe(s.samples);return a.timestamp+a.duration})),We),i=Math.max(0,...e.map(s=>s.track.id))+1,r=!ce(n)||!ce(t),o=r?ne:w;return B("mvhd",+r,0,[o(n),o(n),w(We),o(t),Q(1),St(1),Array(10).fill(0),kt(Mt),Array(24).fill(0),w(i)])},On=(n,e)=>E("trak",void 0,[Fn(n,e),Vn(n,e)]),Fn=(n,e)=>{const t=Qe(n.samples),i=F(t?t.timestamp+t.duration:0,We),r=!ce(e)||!ce(i),o=r?ne:w;let s;if(n.type==="video"){const a=n.track.metadata.rotation;s=Et(a??0)}else s=Mt;return B("tkhd",+r,3,[o(e),o(e),w(n.track.id),w(0),o(i),Array(8).fill(0),C(0),C(n.track.id),St(n.type==="audio"?1:0),C(0),kt(s),Q(n.type==="video"?n.info.width:0),Q(n.type==="video"?n.info.height:0)])},Vn=(n,e)=>E("mdia",void 0,[Rn(n,e),Wn(n),Un(n)]),Rn=(n,e)=>{const t=Qe(n.samples),i=F(t?t.timestamp+t.duration:0,n.timescale),r=!ce(e)||!ce(i),o=r?ne:w;let s=0;for(const a of n.track.metadata.languageCode??Zt)s<<=5,s+=a.charCodeAt(0)-96;return B("mdhd",+r,0,[o(e),o(e),w(n.timescale),o(i),C(s),C(0)])},Ln={video:"vide",audio:"soun",subtitle:"text"},Hn={video:"MediabunnyVideoHandler",audio:"MediabunnySoundHandler",subtitle:"MediabunnyTextHandler"},Wn=n=>B("hdlr",0,0,[L("mhlr"),L(Ln[n.type]),w(0),w(0),w(0),L(Hn[n.type],!0)]),Un=n=>E("minf",void 0,[Kn[n.type](),Qn(),Xn(n)]),Nn=()=>B("vmhd",0,1,[C(0),C(0),C(0),C(0)]),$n=()=>B("smhd",0,0,[C(0),C(0)]),Gn=()=>B("nmhd",0,0),Kn={video:Nn,audio:$n,subtitle:Gn},Qn=()=>E("dinf",void 0,[Dn()]),Dn=()=>B("dref",0,0,[w(1)],[Yn()]),Yn=()=>B("url ",0,1),Xn=n=>{const e=n.compositionTimeOffsetTable.length>1||n.compositionTimeOffsetTable.some(t=>t.sampleCompositionTimeOffset!==0);return E("stbl",void 0,[Zn(n),dr(n),e?mr(n):null,e?yr(n):null,pr(n),hr(n),fr(n),ur(n)])},Zn=n=>{let e;if(n.type==="video")e=Jn(Pr[n.track.source._codec],n);else if(n.type==="audio"){const t=Pt(n.track.source._codec,n.muxer.isQuickTime);j(t),e=rr(t,n)}else n.type==="subtitle"&&(e=lr(_r[n.track.source._codec],n));return j(e),B("stsd",0,0,[w(1)],[e])},Jn=(n,e)=>E(n,[Array(6).fill(0),C(1),C(0),C(0),Array(12).fill(0),C(e.info.width),C(e.info.height),w(4718592),w(4718592),w(0),C(1),Array(32).fill(0),C(24),Tt(65535)],[zr[e.track.source._codec](e),Yt(e.info.decoderConfig.colorSpace)?qn(e):null]),qn=n=>E("colr",[L("nclx"),C(Ee[n.info.decoderConfig.colorSpace.primaries]),C(Me[n.info.decoderConfig.colorSpace.transfer]),C(ke[n.info.decoderConfig.colorSpace.matrix]),I((n.info.decoderConfig.colorSpace.fullRange?1:0)<<7)]),er=n=>n.info.decoderConfig&&E("avcC",[...Z(n.info.decoderConfig.description)]),tr=n=>n.info.decoderConfig&&E("hvcC",[...Z(n.info.decoderConfig.description)]),ft=n=>{if(!n.info.decoderConfig)return null;const e=n.info.decoderConfig,t=e.codec.split("."),i=Number(t[1]),r=Number(t[2]),o=Number(t[3]),s=t[4]?Number(t[4]):1,a=t[8]?Number(t[8]):Number(e.colorSpace?.fullRange??0),l=(o<<4)+(s<<1)+a,c=t[5]?Number(t[5]):e.colorSpace?.primaries?Ee[e.colorSpace.primaries]:2,d=t[6]?Number(t[6]):e.colorSpace?.transfer?Me[e.colorSpace.transfer]:2,u=t[7]?Number(t[7]):e.colorSpace?.matrix?ke[e.colorSpace.matrix]:2;return B("vpcC",1,0,[I(i),I(r),I(l),I(c),I(d),I(u),C(0)])},nr=n=>E("av1C",on(n.info.decoderConfig.codec)),rr=(n,e)=>{let t=0,i,r=16;if(te.includes(e.track.source._codec)){const o=e.track.source._codec,{sampleSize:s}=xe(o);r=8*s,r>16&&(t=1)}return t===0?i=[Array(6).fill(0),C(1),C(t),C(0),w(0),C(e.info.numberOfChannels),C(r),C(0),C(0),C(e.info.sampleRate<2**16?e.info.sampleRate:0),C(0)]:i=[Array(6).fill(0),C(1),C(t),C(0),w(0),C(e.info.numberOfChannels),C(Math.min(r,16)),C(0),C(0),C(e.info.sampleRate<2**16?e.info.sampleRate:0),C(0),w(1),w(r/8),w(e.info.numberOfChannels*r/8),w(2)],E(n,i,[Br(e.track.source._codec,e.muxer.isQuickTime)?.(e)??null])},Ie=n=>{let e;switch(n.track.source._codec){case"aac":e=64;break;case"mp3":e=107;break;case"vorbis":e=221;break;default:throw new Error(`Unhandled audio codec: ${n.track.source._codec}`)}let t=[...I(e),...I(21),...Ct(0),...w(0),...w(0)];if(n.info.decoderConfig.description){const i=Z(n.info.decoderConfig.description);t=[...t,...I(5),...Be(i.byteLength),...i]}return t=[...C(1),...I(0),...I(4),...Be(t.length),...t,...I(6),...I(1),...I(2)],t=[...I(3),...Be(t.length),...t],B("esds",0,0,t)},Y=n=>E("wave",void 0,[ir(n),or(n),E("\0\0\0\0")]),ir=n=>E("frma",[L(Pt(n.track.source._codec,n.muxer.isQuickTime))]),or=n=>{const{littleEndian:e}=xe(n.track.source._codec);return E("enda",[C(+e)])},sr=n=>{let e=n.info.numberOfChannels,t=3840,i=n.info.sampleRate,r=0,o=0,s=new Uint8Array(0);const a=n.info.decoderConfig?.description;if(a){j(a.byteLength>=18);const l=Z(a),c=Bn(l);e=c.outputChannelCount,t=c.preSkip,i=c.inputSampleRate,r=c.outputGain,o=c.channelMappingFamily,c.channelMappingTable&&(s=c.channelMappingTable)}return E("dOps",[I(0),I(e),C(t),w(i),Tt(r),I(o),...s])},ar=n=>{const e=n.info.decoderConfig?.description;j(e);const t=Z(e);return B("dfLa",0,0,[...t.subarray(4)])},U=n=>{const{littleEndian:e,sampleSize:t}=xe(n.track.source._codec),i=+e;return B("pcmC",0,0,[I(i),I(8*t)])},lr=(n,e)=>E(n,[Array(6).fill(0),C(1)],[Ir[e.track.source._codec](e)]),cr=n=>E("vttC",[...se.encode(n.info.config.description)]),dr=n=>B("stts",0,0,[w(n.timeToSampleTable.length),n.timeToSampleTable.map(e=>[w(e.sampleCount),w(e.sampleDelta)])]),ur=n=>{if(n.samples.every(t=>t.type==="key"))return null;const e=[...n.samples.entries()].filter(([,t])=>t.type==="key");return B("stss",0,0,[w(e.length),e.map(([t])=>w(t+1))])},pr=n=>B("stsc",0,0,[w(n.compactlyCodedChunkTable.length),n.compactlyCodedChunkTable.map(e=>[w(e.firstChunk),w(e.samplesPerChunk),w(1)])]),hr=n=>{if(n.type==="audio"&&n.info.requiresPcmTransformation){const{sampleSize:e}=xe(n.track.source._codec);return B("stsz",0,0,[w(e*n.info.numberOfChannels),w(n.samples.reduce((t,i)=>t+F(i.duration,n.timescale),0))])}return B("stsz",0,0,[w(0),w(n.samples.length),n.samples.map(e=>w(e.size))])},fr=n=>n.finalizedChunks.length>0&&N(n.finalizedChunks).offset>=2**32?B("co64",0,0,[w(n.finalizedChunks.length),n.finalizedChunks.map(e=>ne(e.offset))]):B("stco",0,0,[w(n.finalizedChunks.length),n.finalizedChunks.map(e=>w(e.offset))]),mr=n=>B("ctts",1,0,[w(n.compositionTimeOffsetTable.length),n.compositionTimeOffsetTable.map(e=>[w(e.sampleCount),X(e.sampleCompositionTimeOffset)])]),yr=n=>{let e=1/0,t=-1/0,i=1/0,r=-1/0;j(n.compositionTimeOffsetTable.length>0),j(n.samples.length>0);for(let s=0;s<n.compositionTimeOffsetTable.length;s++){const a=n.compositionTimeOffsetTable[s];e=Math.min(e,a.sampleCompositionTimeOffset),t=Math.max(t,a.sampleCompositionTimeOffset)}for(let s=0;s<n.samples.length;s++){const a=n.samples[s];i=Math.min(i,F(a.timestamp,n.timescale)),r=Math.max(r,F(a.timestamp+a.duration,n.timescale))}const o=Math.max(-e,0);return r>=2**31?null:B("cslg",0,0,[X(o),X(e),X(t),X(i),X(r)])},gr=n=>E("mvex",void 0,n.map(xr)),xr=n=>B("trex",0,0,[w(n.track.id),w(1),w(0),w(0),w(0)]),mt=(n,e)=>E("moof",void 0,[vr(n),...e.map(wr)]),vr=n=>B("mfhd",0,0,[w(n)]),At=n=>{let e=0,t=0;const i=0,r=0,o=n.type==="delta";return t|=+o,o?e|=1:e|=2,e<<24|t<<16|i<<8|r},wr=n=>E("traf",void 0,[br(n),jr(n),Tr(n)]),br=n=>{j(n.currentChunk);let e=0;e|=8,e|=16,e|=32,e|=131072;const t=n.currentChunk.samples[1]??n.currentChunk.samples[0],i={duration:t.timescaleUnitsToNextSample,size:t.size,flags:At(t)};return B("tfhd",0,e,[w(n.track.id),w(i.duration),w(i.size),w(i.flags)])},jr=n=>(j(n.currentChunk),B("tfdt",1,0,[ne(F(n.currentChunk.startTimestamp,n.timescale))])),Tr=n=>{j(n.currentChunk);const e=n.currentChunk.samples.map(h=>h.timescaleUnitsToNextSample),t=n.currentChunk.samples.map(h=>h.size),i=n.currentChunk.samples.map(At),r=n.currentChunk.samples.map(h=>F(h.timestamp-h.decodeTimestamp,n.timescale)),o=new Set(e),s=new Set(t),a=new Set(i),l=new Set(r),c=a.size===2&&i[0]!==i[1],d=o.size>1,u=s.size>1,f=!c&&a.size>1,m=l.size>1||[...l].some(h=>h!==0);let p=0;return p|=1,p|=4*+c,p|=256*+d,p|=512*+u,p|=1024*+f,p|=2048*+m,B("trun",1,p,[w(n.currentChunk.samples.length),w(n.currentChunk.offset-n.currentChunk.moofOffset||0),c?w(i[0]):[],n.currentChunk.samples.map((h,x)=>[d?w(e[x]):[],u?w(t[x]):[],f?w(i[x]):[],m?X(r[x]):[]])])},Cr=n=>E("mfra",void 0,[...n.map(Sr),Er()]),Sr=(n,e)=>B("tfra",1,0,[w(n.track.id),w(63),w(n.finalizedChunks.length),n.finalizedChunks.map(i=>[ne(F(i.samples[0].timestamp,n.timescale)),ne(i.moofOffset),w(e+1),w(1),w(1)])]),Er=()=>B("mfro",0,0,[w(0)]),Mr=()=>E("vtte"),kr=(n,e,t,i,r)=>E("vttc",void 0,[r!==null?E("vsid",[X(r)]):null,t!==null?E("iden",[...se.encode(t)]):null,e!==null?E("ctim",[...se.encode(xn(e))]):null,i!==null?E("sttg",[...se.encode(i)]):null,E("payl",[...se.encode(n)])]),Ar=n=>E("vtta",[...se.encode(n)]),Pr={avc:"avc1",hevc:"hvc1",vp8:"vp08",vp9:"vp09",av1:"av01"},zr={avc:er,hevc:tr,vp8:ft,vp9:ft,av1:nr},Pt=(n,e)=>{switch(n){case"aac":return"mp4a";case"mp3":return"mp4a";case"opus":return"Opus";case"vorbis":return"mp4a";case"flac":return"fLaC";case"ulaw":return"ulaw";case"alaw":return"alaw";case"pcm-u8":return"raw ";case"pcm-s8":return"sowt"}if(e)switch(n){case"pcm-s16":return"sowt";case"pcm-s16be":return"twos";case"pcm-s24":return"in24";case"pcm-s24be":return"in24";case"pcm-s32":return"in32";case"pcm-s32be":return"in32";case"pcm-f32":return"fl32";case"pcm-f32be":return"fl32";case"pcm-f64":return"fl64";case"pcm-f64be":return"fl64"}else switch(n){case"pcm-s16":return"ipcm";case"pcm-s16be":return"ipcm";case"pcm-s24":return"ipcm";case"pcm-s24be":return"ipcm";case"pcm-s32":return"ipcm";case"pcm-s32be":return"ipcm";case"pcm-f32":return"fpcm";case"pcm-f32be":return"fpcm";case"pcm-f64":return"fpcm";case"pcm-f64be":return"fpcm"}},Br=(n,e)=>{switch(n){case"aac":return Ie;case"mp3":return Ie;case"opus":return sr;case"vorbis":return Ie;case"flac":return ar}if(e)switch(n){case"pcm-s24":return Y;case"pcm-s24be":return Y;case"pcm-s32":return Y;case"pcm-s32be":return Y;case"pcm-f32":return Y;case"pcm-f32be":return Y;case"pcm-f64":return Y;case"pcm-f64be":return Y}else switch(n){case"pcm-s16":return U;case"pcm-s16be":return U;case"pcm-s24":return U;case"pcm-s24be":return U;case"pcm-s32":return U;case"pcm-s32be":return U;case"pcm-f32":return U;case"pcm-f32be":return U;case"pcm-f64":return U;case"pcm-f64be":return U}return null},_r={webvtt:"wvtt"},Ir={webvtt:cr};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class Or{constructor(e){this.mutex=new wt,this.firstMediaStreamTimestamp=null,this.trackTimestampInfo=new WeakMap,this.output=e}onTrackClose(e){}validateAndNormalizeTimestamp(e,t,i){t+=e.source._timestampOffset;let r=this.trackTimestampInfo.get(e);if(!r){if(!i)throw new Error("First frame must be a key frame.");r={maxTimestamp:t,maxTimestampBeforeLastKeyFrame:t},this.trackTimestampInfo.set(e,r)}if(t<0)throw new Error(`Timestamps must be non-negative (got ${t}s).`);if(i&&(r.maxTimestampBeforeLastKeyFrame=r.maxTimestamp),t<r.maxTimestampBeforeLastKeyFrame)throw new Error(`Timestamps cannot be smaller than the highest timestamp of the previous run (a run begins with a key frame and ends right before the next key frame). Got ${t}s, but highest timestamp is ${r.maxTimestampBeforeLastKeyFrame}s.`);return r.maxTimestamp=Math.max(r.maxTimestamp,t),t}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class zt{constructor(){this.ensureMonotonicity=!1,this.trackedWrites=null,this.trackedStart=-1,this.trackedEnd=-1}start(){}maybeTrackWrites(e){if(!this.trackedWrites)return;let t=this.getPos();if(t<this.trackedStart){if(t+e.byteLength<=this.trackedStart)return;e=e.subarray(this.trackedStart-t),t=0}const i=t+e.byteLength-this.trackedStart;let r=this.trackedWrites.byteLength;for(;r<i;)r*=2;if(r!==this.trackedWrites.byteLength){const o=new Uint8Array(r);o.set(this.trackedWrites,0),this.trackedWrites=o}this.trackedWrites.set(e,t-this.trackedStart),this.trackedEnd=Math.max(this.trackedEnd,t+e.byteLength)}startTrackingWrites(){this.trackedWrites=new Uint8Array(2**10),this.trackedStart=this.getPos(),this.trackedEnd=this.trackedStart}stopTrackingWrites(){if(!this.trackedWrites)throw new Error("Internal error: Can't get tracked writes since nothing was tracked.");const t={data:this.trackedWrites.subarray(0,this.trackedEnd-this.trackedStart),start:this.trackedStart,end:this.trackedEnd};return this.trackedWrites=null,t}}const Oe=2**16,Fe=2**32;class Bt extends zt{constructor(e){if(super(),this.pos=0,this.maxPos=0,this.target=e,this.supportsResize="resize"in new ArrayBuffer(0),this.supportsResize)try{this.buffer=new ArrayBuffer(Oe,{maxByteLength:Fe})}catch{this.buffer=new ArrayBuffer(Oe),this.supportsResize=!1}else this.buffer=new ArrayBuffer(Oe);this.bytes=new Uint8Array(this.buffer)}ensureSize(e){let t=this.buffer.byteLength;for(;t<e;)t*=2;if(t!==this.buffer.byteLength){if(t>Fe)throw new Error(`ArrayBuffer exceeded maximum size of ${Fe} bytes. Please consider using another target.`);if(this.supportsResize)this.buffer.resize(t);else{const i=new ArrayBuffer(t),r=new Uint8Array(i);r.set(this.bytes,0),this.buffer=i,this.bytes=r}}}write(e){this.maybeTrackWrites(e),this.ensureSize(this.pos+e.byteLength),this.bytes.set(e,this.pos),this.pos+=e.byteLength,this.maxPos=Math.max(this.maxPos,this.pos)}seek(e){this.pos=e}getPos(){return this.pos}async flush(){}async finalize(){this.ensureSize(this.pos),this.target.buffer=this.buffer.slice(0,Math.max(this.maxPos,this.pos))}async close(){}getSlice(e,t){return this.bytes.slice(e,t)}}const Fr=2**24,Vr=2;class Rr extends zt{constructor(e){super(),this.pos=0,this.sections=[],this.lastWriteEnd=0,this.lastFlushEnd=0,this.writer=null,this.chunks=[],this.target=e,this.chunked=e._options.chunked??!1,this.chunkSize=e._options.chunkSize??Fr}start(){this.writer=this.target._writable.getWriter()}write(e){if(this.pos>this.lastWriteEnd){const t=this.pos-this.lastWriteEnd;this.pos=this.lastWriteEnd,this.write(new Uint8Array(t))}this.maybeTrackWrites(e),this.sections.push({data:e.slice(),start:this.pos}),this.pos+=e.byteLength,this.lastWriteEnd=Math.max(this.lastWriteEnd,this.pos)}seek(e){this.pos=e}getPos(){return this.pos}async flush(){if(this.pos>this.lastWriteEnd){const i=this.pos-this.lastWriteEnd;this.pos=this.lastWriteEnd,this.write(new Uint8Array(i))}if(j(this.writer),this.sections.length===0)return;const e=[],t=[...this.sections].sort((i,r)=>i.start-r.start);e.push({start:t[0].start,size:t[0].data.byteLength});for(let i=1;i<t.length;i++){const r=e[e.length-1],o=t[i];o.start<=r.start+r.size?r.size=Math.max(r.size,o.start+o.data.byteLength-r.start):e.push({start:o.start,size:o.data.byteLength})}for(const i of e){i.data=new Uint8Array(i.size);for(const r of this.sections)i.start<=r.start&&r.start<i.start+i.size&&i.data.set(r.data,r.start-i.start);if(this.writer.desiredSize!==null&&this.writer.desiredSize<=0&&await this.writer.ready,this.chunked)this.writeDataIntoChunks(i.data,i.start),this.tryToFlushChunks();else{if(this.ensureMonotonicity&&i.start!==this.lastFlushEnd)throw new Error("Internal error: Monotonicity violation.");this.writer.write({type:"write",data:i.data,position:i.start}),this.lastFlushEnd=i.start+i.data.byteLength}}this.sections.length=0}writeDataIntoChunks(e,t){let i=this.chunks.findIndex(l=>l.start<=t&&t<l.start+this.chunkSize);i===-1&&(i=this.createChunk(t));const r=this.chunks[i],o=t-r.start,s=e.subarray(0,Math.min(this.chunkSize-o,e.byteLength));r.data.set(s,o);const a={start:o,end:o+s.byteLength};if(this.insertSectionIntoChunk(r,a),r.written[0].start===0&&r.written[0].end===this.chunkSize&&(r.shouldFlush=!0),this.chunks.length>Vr){for(let l=0;l<this.chunks.length-1;l++)this.chunks[l].shouldFlush=!0;this.tryToFlushChunks()}s.byteLength<e.byteLength&&this.writeDataIntoChunks(e.subarray(s.byteLength),t+s.byteLength)}insertSectionIntoChunk(e,t){let i=0,r=e.written.length-1,o=-1;for(;i<=r;){const s=Math.floor(i+(r-i+1)/2);e.written[s].start<=t.start?(i=s+1,o=s):r=s-1}for(e.written.splice(o+1,0,t),(o===-1||e.written[o].end<t.start)&&o++;o<e.written.length-1&&e.written[o].end>=e.written[o+1].start;)e.written[o].end=Math.max(e.written[o].end,e.written[o+1].end),e.written.splice(o+1,1)}createChunk(e){const i={start:Math.floor(e/this.chunkSize)*this.chunkSize,data:new Uint8Array(this.chunkSize),written:[],shouldFlush:!1};return this.chunks.push(i),this.chunks.sort((r,o)=>r.start-o.start),this.chunks.indexOf(i)}tryToFlushChunks(e=!1){j(this.writer);for(let t=0;t<this.chunks.length;t++){const i=this.chunks[t];if(!(!i.shouldFlush&&!e)){for(const r of i.written){const o=i.start+r.start;if(this.ensureMonotonicity&&o!==this.lastFlushEnd)throw new Error("Internal error: Monotonicity violation.");this.writer.write({type:"write",data:i.data.subarray(r.start,r.end),position:o}),this.lastFlushEnd=i.start+r.end}this.chunks.splice(t--,1)}}}finalize(){return this.chunked&&this.tryToFlushChunks(!0),j(this.writer),this.writer.close()}async close(){return this.writer?.close()}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class De{constructor(){this._output=null}}class _t extends De{constructor(){super(...arguments),this.buffer=null}_createWriter(){return new Bt(this)}}class Lr extends De{constructor(e,t={}){if(super(),!(e instanceof WritableStream))throw new TypeError("StreamTarget requires a WritableStream instance.");if(t!=null&&typeof t!="object")throw new TypeError("StreamTarget options, when provided, must be an object.");if(t.chunked!==void 0&&typeof t.chunked!="boolean")throw new TypeError("options.chunked, when provided, must be a boolean.");if(t.chunkSize!==void 0&&(!Number.isInteger(t.chunkSize)||t.chunkSize<1024))throw new TypeError("options.chunkSize, when provided, must be an integer and not smaller than 1024.");this._writable=e,this._options=t}_createWriter(){return new Rr(this)}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const Hr=n=>{let t=(n.hasVideo?"video/":n.hasAudio?"audio/":"application/")+(n.isQuickTime?"quicktime":"mp4");if(n.codecStrings.length>0){const i=[...new Set(n.codecStrings)];t+=`; codecs="${i.join(", ")}"`}return t};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const We=1e3,Wr=2082844800,F=(n,e,t=!0)=>{const i=n*e;return t?Math.round(i):i};class Ur extends Or{constructor(e,t){super(e),this.auxTarget=new _t,this.auxWriter=this.auxTarget._createWriter(),this.auxBoxWriter=new ht(this.auxWriter),this.mdat=null,this.trackDatas=[],this.allTracksKnown=Xt(),this.creationTime=Math.floor(Date.now()/1e3)+Wr,this.finalizedChunks=[],this.nextFragmentNumber=1,this.maxWrittenTimestamp=-1/0,this.format=t,this.writer=e._writer,this.boxWriter=new ht(this.writer),this.isQuickTime=t instanceof Ft;const i=this.writer instanceof Bt?"in-memory":!1;this.fastStart=t._options.fastStart??i,this.isFragmented=this.fastStart==="fragmented",(this.fastStart==="in-memory"||this.isFragmented)&&(this.writer.ensureMonotonicity=!0),this.minimumFragmentDuration=t._options.minimumFragmentDuration??1}async start(){const e=await this.mutex.acquire(),t=this.output._tracks.some(i=>i.type==="video"&&i.source._codec==="avc");if(this.format._options.onFtyp&&this.writer.startTrackingWrites(),this.boxWriter.writeBox(_n({isQuickTime:this.isQuickTime,holdsAvc:t,fragmented:this.isFragmented})),this.format._options.onFtyp){const{data:i,start:r}=this.writer.stopTrackingWrites();this.format._options.onFtyp(i,r)}this.fastStart==="in-memory"?this.mdat=_e(!1):this.isFragmented||(this.format._options.onMdat&&this.writer.startTrackingWrites(),this.mdat=_e(!0),this.boxWriter.writeBox(this.mdat)),await this.writer.flush(),e()}allTracksAreKnown(){for(const e of this.output._tracks)if(!e.source._closed&&!this.trackDatas.some(t=>t.track===e))return!1;return!0}async getMimeType(){await this.allTracksKnown.promise;const e=this.trackDatas.map(t=>t.type==="video"||t.type==="audio"?t.info.decoderConfig.codec:{webvtt:"wvtt"}[t.track.source._codec]);return Hr({isQuickTime:this.isQuickTime,hasVideo:this.trackDatas.some(t=>t.type==="video"),hasAudio:this.trackDatas.some(t=>t.type==="audio"),codecStrings:e})}getVideoTrackData(e,t,i){const r=this.trackDatas.find(c=>c.track===e);if(r)return r;fn(i),j(i),j(i.decoderConfig);const o={...i.decoderConfig};j(o.codedWidth!==void 0),j(o.codedHeight!==void 0);let s=!1;if(e.source._codec==="avc"&&!o.description){const c=wn(t.data);if(!c)throw new Error("Couldn't extract an AVCDecoderConfigurationRecord from the AVC packet. Make sure the packets are in Annex B format (as specified in ITU-T-REC-H.264) when not providing a description, or provide a description (must be an AVCDecoderConfigurationRecord as specified in ISO 14496-15) and ensure the packets are in AVCC format.");o.description=bn(c),s=!0}else if(e.source._codec==="hevc"&&!o.description){const c=Cn(t.data);if(!c)throw new Error("Couldn't extract an HEVCDecoderConfigurationRecord from the HEVC packet. Make sure the packets are in Annex B format (as specified in ITU-T-REC-H.265) when not providing a description, or provide a description (must be an HEVCDecoderConfigurationRecord as specified in ISO 14496-15) and ensure the packets are in HEVC format.");o.description=zn(c),s=!0}const a=en(1/(e.metadata.frameRate??57600),1e6).denominator,l={muxer:this,track:e,type:"video",info:{width:o.codedWidth,height:o.codedHeight,decoderConfig:o,requiresAnnexBTransformation:s},timescale:a,samples:[],sampleQueue:[],timestampProcessingQueue:[],timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,finalizedChunks:[],currentChunk:null,compactlyCodedChunkTable:[]};return this.trackDatas.push(l),this.trackDatas.sort((c,d)=>c.track.id-d.track.id),this.allTracksAreKnown()&&this.allTracksKnown.resolve(),l}getAudioTrackData(e,t){const i=this.trackDatas.find(o=>o.track===e);if(i)return i;yn(t),j(t),j(t.decoderConfig);const r={muxer:this,track:e,type:"audio",info:{numberOfChannels:t.decoderConfig.numberOfChannels,sampleRate:t.decoderConfig.sampleRate,decoderConfig:t.decoderConfig,requiresPcmTransformation:!this.isFragmented&&te.includes(e.source._codec)},timescale:t.decoderConfig.sampleRate,samples:[],sampleQueue:[],timestampProcessingQueue:[],timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,finalizedChunks:[],currentChunk:null,compactlyCodedChunkTable:[]};return this.trackDatas.push(r),this.trackDatas.sort((o,s)=>o.track.id-s.track.id),this.allTracksAreKnown()&&this.allTracksKnown.resolve(),r}getSubtitleTrackData(e,t){const i=this.trackDatas.find(o=>o.track===e);if(i)return i;gn(t),j(t),j(t.config);const r={muxer:this,track:e,type:"subtitle",info:{config:t.config},timescale:1e3,samples:[],sampleQueue:[],timestampProcessingQueue:[],timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,finalizedChunks:[],currentChunk:null,compactlyCodedChunkTable:[],lastCueEndTimestamp:0,cueQueue:[],nextSourceId:0,cueToSourceId:new WeakMap};return this.trackDatas.push(r),this.trackDatas.sort((o,s)=>o.track.id-s.track.id),this.allTracksAreKnown()&&this.allTracksKnown.resolve(),r}async addEncodedVideoPacket(e,t,i){const r=await this.mutex.acquire();try{const o=this.getVideoTrackData(e,t,i);let s=t.data;if(o.info.requiresAnnexBTransformation){const c=vn(s);if(!c)throw new Error("Failed to transform packet data. Make sure all packets are provided in Annex B format, as specified in ITU-T-REC-H.264 and ITU-T-REC-H.265.");s=c}const a=this.validateAndNormalizeTimestamp(o.track,t.timestamp,t.type==="key"),l=this.createSampleForTrack(o,s,a,t.duration,t.type);await this.registerSample(o,l)}finally{r()}}async addEncodedAudioPacket(e,t,i){const r=await this.mutex.acquire();try{const o=this.getAudioTrackData(e,i),s=this.validateAndNormalizeTimestamp(o.track,t.timestamp,t.type==="key"),a=this.createSampleForTrack(o,t.data,s,t.duration,t.type);o.info.requiresPcmTransformation&&await this.maybePadWithSilence(o,s),await this.registerSample(o,a)}finally{r()}}async maybePadWithSilence(e,t){const i=N(e.samples),r=i?i.timestamp+i.duration:0,o=t-r,s=F(o,e.timescale);if(s>0){const{sampleSize:a,silentValue:l}=xe(e.info.decoderConfig.codec),c=s*e.info.numberOfChannels,d=new Uint8Array(a*c).fill(l),u=this.createSampleForTrack(e,new Uint8Array(d.buffer),r,o,"key");await this.registerSample(e,u)}}async addSubtitleCue(e,t,i){const r=await this.mutex.acquire();try{const o=this.getSubtitleTrackData(e,i);this.validateAndNormalizeTimestamp(o.track,t.timestamp,!0),e.source._codec==="webvtt"&&(o.cueQueue.push(t),await this.processWebVTTCues(o,t.timestamp))}finally{r()}}async processWebVTTCues(e,t){for(;e.cueQueue.length>0;){const i=new Set([]);for(const c of e.cueQueue)j(c.timestamp<=t),j(e.lastCueEndTimestamp<=c.timestamp+c.duration),i.add(Math.max(c.timestamp,e.lastCueEndTimestamp)),i.add(c.timestamp+c.duration);const r=[...i].sort((c,d)=>c-d),o=r[0],s=r[1]??o;if(t<s)break;if(e.lastCueEndTimestamp<o){this.auxWriter.seek(0);const c=Mr();this.auxBoxWriter.writeBox(c);const d=this.auxWriter.getSlice(0,this.auxWriter.getPos()),u=this.createSampleForTrack(e,d,e.lastCueEndTimestamp,o-e.lastCueEndTimestamp,"key");await this.registerSample(e,u),e.lastCueEndTimestamp=o}this.auxWriter.seek(0);for(let c=0;c<e.cueQueue.length;c++){const d=e.cueQueue[c];if(d.timestamp>=s)break;lt.lastIndex=0;const u=lt.test(d.text),f=d.timestamp+d.duration;let m=e.cueToSourceId.get(d);if(m===void 0&&s<f&&(m=e.nextSourceId++,e.cueToSourceId.set(d,m)),d.notes){const h=Ar(d.notes);this.auxBoxWriter.writeBox(h)}const p=kr(d.text,u?o:null,d.identifier??null,d.settings??null,m??null);this.auxBoxWriter.writeBox(p),f===s&&e.cueQueue.splice(c--,1)}const a=this.auxWriter.getSlice(0,this.auxWriter.getPos()),l=this.createSampleForTrack(e,a,o,s-o,"key");await this.registerSample(e,l),e.lastCueEndTimestamp=s}}createSampleForTrack(e,t,i,r,o){return{timestamp:i,decodeTimestamp:i,duration:r,data:t,size:t.byteLength,type:o,timescaleUnitsToNextSample:F(r,e.timescale)}}processTimestamps(e,t){if(e.timestampProcessingQueue.length===0)return;if(e.type==="audio"&&e.info.requiresPcmTransformation){let r=0;for(let o=0;o<e.timestampProcessingQueue.length;o++){const s=e.timestampProcessingQueue[o],a=F(s.duration,e.timescale);r+=a}if(e.timeToSampleTable.length===0)e.timeToSampleTable.push({sampleCount:r,sampleDelta:1});else{const o=N(e.timeToSampleTable);o.sampleCount+=r}e.timestampProcessingQueue.length=0;return}const i=e.timestampProcessingQueue.map(r=>r.timestamp).sort((r,o)=>r-o);for(let r=0;r<e.timestampProcessingQueue.length;r++){const o=e.timestampProcessingQueue[r];o.decodeTimestamp=i[r],!this.isFragmented&&e.lastTimescaleUnits===null&&(o.decodeTimestamp=0);const s=F(o.timestamp-o.decodeTimestamp,e.timescale),a=F(o.duration,e.timescale);if(e.lastTimescaleUnits!==null){j(e.lastSample);const l=F(o.decodeTimestamp,e.timescale,!1),c=Math.round(l-e.lastTimescaleUnits);if(j(c>=0),e.lastTimescaleUnits+=c,e.lastSample.timescaleUnitsToNextSample=c,!this.isFragmented){let d=N(e.timeToSampleTable);if(j(d),d.sampleCount===1){d.sampleDelta=c;const f=e.timeToSampleTable[e.timeToSampleTable.length-2];f&&f.sampleDelta===c&&(f.sampleCount++,e.timeToSampleTable.pop(),d=f)}else d.sampleDelta!==c&&(d.sampleCount--,e.timeToSampleTable.push(d={sampleCount:1,sampleDelta:c}));d.sampleDelta===a?d.sampleCount++:e.timeToSampleTable.push({sampleCount:1,sampleDelta:a});const u=N(e.compositionTimeOffsetTable);j(u),u.sampleCompositionTimeOffset===s?u.sampleCount++:e.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset:s})}}else e.lastTimescaleUnits=F(o.decodeTimestamp,e.timescale,!1),this.isFragmented||(e.timeToSampleTable.push({sampleCount:1,sampleDelta:a}),e.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset:s}));e.lastSample=o}if(e.timestampProcessingQueue.length=0,j(e.lastSample),j(e.lastTimescaleUnits!==null),t!==void 0&&e.lastSample.timescaleUnitsToNextSample===0){j(t.type==="key");const r=F(t.timestamp,e.timescale,!1),o=Math.round(r-e.lastTimescaleUnits);e.lastSample.timescaleUnitsToNextSample=o}}async registerSample(e,t){t.type==="key"&&this.processTimestamps(e,t),e.timestampProcessingQueue.push(t),this.isFragmented?(e.sampleQueue.push(t),await this.interleaveSamples()):await this.addSampleToTrack(e,t)}async addSampleToTrack(e,t){this.isFragmented||e.samples.push(t);let i=!1;if(!e.currentChunk)i=!0;else{e.currentChunk.startTimestamp=Math.min(e.currentChunk.startTimestamp,t.timestamp);const r=t.timestamp-e.currentChunk.startTimestamp;if(this.isFragmented){const o=this.trackDatas.every(s=>{if(e===s)return t.type==="key";const a=s.sampleQueue[0];return a?a.type==="key":s.track.source._closed});r>=this.minimumFragmentDuration&&o&&t.timestamp>this.maxWrittenTimestamp&&(i=!0,await this.finalizeFragment())}else i=r>=.5}i&&(e.currentChunk&&await this.finalizeCurrentChunk(e),e.currentChunk={startTimestamp:t.timestamp,samples:[],offset:null,moofOffset:null}),j(e.currentChunk),e.currentChunk.samples.push(t),this.isFragmented&&(this.maxWrittenTimestamp=Math.max(this.maxWrittenTimestamp,t.timestamp))}async finalizeCurrentChunk(e){if(j(!this.isFragmented),!e.currentChunk)return;e.finalizedChunks.push(e.currentChunk),this.finalizedChunks.push(e.currentChunk);let t=e.currentChunk.samples.length;if(e.type==="audio"&&e.info.requiresPcmTransformation&&(t=e.currentChunk.samples.reduce((i,r)=>i+F(r.duration,e.timescale),0)),(e.compactlyCodedChunkTable.length===0||N(e.compactlyCodedChunkTable).samplesPerChunk!==t)&&e.compactlyCodedChunkTable.push({firstChunk:e.finalizedChunks.length,samplesPerChunk:t}),this.fastStart==="in-memory"){e.currentChunk.offset=0;return}e.currentChunk.offset=this.writer.getPos();for(const i of e.currentChunk.samples)j(i.data),this.writer.write(i.data),i.data=null;await this.writer.flush()}async interleaveSamples(e=!1){if(j(this.isFragmented),!(!e&&!this.allTracksAreKnown()))e:for(;;){let t=null,i=1/0;for(const o of this.trackDatas){if(!e&&o.sampleQueue.length===0&&!o.track.source._closed)break e;o.sampleQueue.length>0&&o.sampleQueue[0].timestamp<i&&(t=o,i=o.sampleQueue[0].timestamp)}if(!t)break;const r=t.sampleQueue.shift();await this.addSampleToTrack(t,r)}}async finalizeFragment(e=!0){j(this.isFragmented);const t=this.nextFragmentNumber++;if(t===1){this.format._options.onMoov&&this.writer.startTrackingWrites();const m=be(this.trackDatas,this.creationTime,!0);if(this.boxWriter.writeBox(m),this.format._options.onMoov){const{data:p,start:h}=this.writer.stopTrackingWrites();this.format._options.onMoov(p,h)}}const i=this.trackDatas.filter(m=>m.currentChunk),r=mt(t,i),o=this.writer.getPos(),s=o+this.boxWriter.measureBox(r),a=16;let l=s+a,c=1/0;for(const m of i){m.currentChunk.offset=l,m.currentChunk.moofOffset=o;for(const p of m.currentChunk.samples)l+=p.size;c=Math.min(c,m.currentChunk.startTimestamp)}const d=l-s;this.format._options.onMoof&&this.writer.startTrackingWrites();const u=mt(t,i);if(this.boxWriter.writeBox(u),this.format._options.onMoof){const{data:m,start:p}=this.writer.stopTrackingWrites();this.format._options.onMoof(m,p,c)}j(this.writer.getPos()===s),this.format._options.onMdat&&this.writer.startTrackingWrites();const f=_e(d>=2**32);f.size=d,this.boxWriter.writeBox(f),this.writer.seek(s+a);for(const m of i)for(const p of m.currentChunk.samples)this.writer.write(p.data),p.data=null;if(this.format._options.onMdat){const{data:m,start:p}=this.writer.stopTrackingWrites();this.format._options.onMdat(m,p)}for(const m of i)m.finalizedChunks.push(m.currentChunk),this.finalizedChunks.push(m.currentChunk),m.currentChunk=null;e&&await this.writer.flush()}async onTrackClose(e){const t=await this.mutex.acquire();if(e.type==="subtitle"&&e.source._codec==="webvtt"){const i=this.trackDatas.find(r=>r.track===e);i&&await this.processWebVTTCues(i,1/0)}this.allTracksAreKnown()&&this.allTracksKnown.resolve(),this.isFragmented&&await this.interleaveSamples(),t()}async finalize(){const e=await this.mutex.acquire();this.allTracksKnown.resolve();for(const t of this.trackDatas)t.type==="subtitle"&&t.track.source._codec==="webvtt"&&await this.processWebVTTCues(t,1/0);if(this.isFragmented){await this.interleaveSamples(!0);for(const t of this.trackDatas)this.processTimestamps(t);await this.finalizeFragment(!1)}else for(const t of this.trackDatas)this.processTimestamps(t),await this.finalizeCurrentChunk(t);if(this.fastStart==="in-memory"){j(this.mdat);let t;for(let r=0;r<2;r++){const o=be(this.trackDatas,this.creationTime),s=this.boxWriter.measureBox(o);t=this.boxWriter.measureBox(this.mdat);let a=this.writer.getPos()+s+t;for(const l of this.finalizedChunks){l.offset=a;for(const{data:c}of l.samples)j(c),a+=c.byteLength,t+=c.byteLength}if(a<2**32)break;t>=2**32&&(this.mdat.largeSize=!0)}this.format._options.onMoov&&this.writer.startTrackingWrites();const i=be(this.trackDatas,this.creationTime);if(this.boxWriter.writeBox(i),this.format._options.onMoov){const{data:r,start:o}=this.writer.stopTrackingWrites();this.format._options.onMoov(r,o)}this.format._options.onMdat&&this.writer.startTrackingWrites(),this.mdat.size=t,this.boxWriter.writeBox(this.mdat);for(const r of this.finalizedChunks)for(const o of r.samples)j(o.data),this.writer.write(o.data),o.data=null;if(this.format._options.onMdat){const{data:r,start:o}=this.writer.stopTrackingWrites();this.format._options.onMdat(r,o)}}else if(this.isFragmented){const t=this.writer.getPos(),i=Cr(this.trackDatas);this.boxWriter.writeBox(i);const r=this.writer.getPos()-t;this.writer.seek(this.writer.getPos()-4),this.boxWriter.writeU32(r)}else{j(this.mdat);const t=this.boxWriter.offsets.get(this.mdat);j(t!==void 0);const i=this.writer.getPos()-t;if(this.mdat.size=i,this.mdat.largeSize=i>=2**32,this.boxWriter.patchBox(this.mdat),this.format._options.onMdat){const{data:o,start:s}=this.writer.stopTrackingWrites();this.format._options.onMdat(o,s)}this.format._options.onMoov&&this.writer.startTrackingWrites();const r=be(this.trackDatas,this.creationTime);if(this.boxWriter.writeBox(r),this.format._options.onMoov){const{data:o,start:s}=this.writer.stopTrackingWrites();this.format._options.onMoov(o,s)}}e()}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const yt=new Uint8Array(0);class de{constructor(e,t,i,r,o=-1,s){if(this.data=e,this.type=t,this.timestamp=i,this.duration=r,this.sequenceNumber=o,e===yt&&s===void 0)throw new Error("Internal error: byteLength must be explicitly provided when constructing metadata-only packets.");if(s===void 0&&(s=e.byteLength),!(e instanceof Uint8Array))throw new TypeError("data must be a Uint8Array.");if(t!=="key"&&t!=="delta")throw new TypeError('type must be either "key" or "delta".');if(!Number.isFinite(i))throw new TypeError("timestamp must be a number.");if(!Number.isFinite(r)||r<0)throw new TypeError("duration must be a non-negative number.");if(!Number.isFinite(o))throw new TypeError("sequenceNumber must be a number.");if(!Number.isInteger(s)||s<0)throw new TypeError("byteLength must be a non-negative integer.");this.byteLength=s}get isMetadataOnly(){return this.data===yt}get microsecondTimestamp(){return Math.trunc(ae*this.timestamp)}get microsecondDuration(){return Math.trunc(ae*this.duration)}toEncodedVideoChunk(){if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to a video chunk.");if(typeof EncodedVideoChunk>"u")throw new Error("Your browser does not support EncodedVideoChunk.");return new EncodedVideoChunk({data:this.data,type:this.type,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}toEncodedAudioChunk(){if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to an audio chunk.");if(typeof EncodedAudioChunk>"u")throw new Error("Your browser does not support EncodedAudioChunk.");return new EncodedAudioChunk({data:this.data,type:this.type,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}static fromEncodedChunk(e){if(!(e instanceof EncodedVideoChunk||e instanceof EncodedAudioChunk))throw new TypeError("chunk must be an EncodedVideoChunk or EncodedAudioChunk.");const t=new Uint8Array(e.byteLength);return e.copyTo(t),new de(t,e.type,e.timestamp/1e6,(e.duration??0)/1e6)}clone(e){if(e!==void 0&&(typeof e!="object"||e===null))throw new TypeError("options, when provided, must be an object.");if(e?.timestamp!==void 0&&!Number.isFinite(e.timestamp))throw new TypeError("options.timestamp, when provided, must be a number.");if(e?.duration!==void 0&&!Number.isFinite(e.duration))throw new TypeError("options.duration, when provided, must be a number.");return new de(this.data,this.type,e?.timestamp??this.timestamp,e?.duration??this.duration,this.sequenceNumber,this.byteLength)}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class le{get displayWidth(){return this.rotation%180===0?this.codedWidth:this.codedHeight}get displayHeight(){return this.rotation%180===0?this.codedHeight:this.codedWidth}get microsecondTimestamp(){return Math.trunc(ae*this.timestamp)}get microsecondDuration(){return Math.trunc(ae*this.duration)}constructor(e,t){if(this._closed=!1,e instanceof ArrayBuffer||ArrayBuffer.isView(e)){if(!t||typeof t!="object")throw new TypeError("init must be an object.");if(!("format"in t)||typeof t.format!="string")throw new TypeError("init.format must be a string.");if(!Number.isInteger(t.codedWidth)||t.codedWidth<=0)throw new TypeError("init.codedWidth must be a positive integer.");if(!Number.isInteger(t.codedHeight)||t.codedHeight<=0)throw new TypeError("init.codedHeight must be a positive integer.");if(t.rotation!==void 0&&![0,90,180,270].includes(t.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(!Number.isFinite(t.timestamp))throw new TypeError("init.timestamp must be a number.");if(t.duration!==void 0&&(!Number.isFinite(t.duration)||t.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");this._data=Z(e).slice(),this.format=t.format,this.codedWidth=t.codedWidth,this.codedHeight=t.codedHeight,this.rotation=t.rotation??0,this.timestamp=t.timestamp,this.duration=t.duration??0,this.colorSpace=new VideoColorSpace(t.colorSpace)}else if(typeof VideoFrame<"u"&&e instanceof VideoFrame){if(t?.rotation!==void 0&&![0,90,180,270].includes(t.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(t?.timestamp!==void 0&&!Number.isFinite(t?.timestamp))throw new TypeError("init.timestamp, when provided, must be a number.");if(t?.duration!==void 0&&(!Number.isFinite(t.duration)||t.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");this._data=e,this.format=e.format,this.codedWidth=e.codedWidth,this.codedHeight=e.codedHeight,this.rotation=t?.rotation??0,this.timestamp=t?.timestamp??e.timestamp/1e6,this.duration=t?.duration??(e.duration??0)/1e6,this.colorSpace=e.colorSpace}else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof SVGImageElement<"u"&&e instanceof SVGImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){if(!t||typeof t!="object")throw new TypeError("init must be an object.");if(t.rotation!==void 0&&![0,90,180,270].includes(t.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(!Number.isFinite(t.timestamp))throw new TypeError("init.timestamp must be a number.");if(t.duration!==void 0&&(!Number.isFinite(t.duration)||t.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");if(typeof VideoFrame<"u")return new le(new VideoFrame(e,{timestamp:Math.trunc(t.timestamp*ae),duration:Math.trunc((t.duration??0)*ae)}),t);let i=0,r=0;if("naturalWidth"in e?(i=e.naturalWidth,r=e.naturalHeight):"videoWidth"in e?(i=e.videoWidth,r=e.videoHeight):"width"in e&&(i=Number(e.width),r=Number(e.height)),!i||!r)throw new TypeError("Could not determine dimensions.");const o=new OffscreenCanvas(i,r),s=o.getContext("2d",{alpha:!1,willReadFrequently:!0});j(s),s.drawImage(e,0,0),this._data=o,this.format="RGBX",this.codedWidth=i,this.codedHeight=r,this.rotation=t.rotation??0,this.timestamp=t.timestamp,this.duration=t.duration??0,this.colorSpace=new VideoColorSpace({matrix:"rgb",primaries:"bt709",transfer:"iec61966-2-1",fullRange:!0})}else throw new TypeError("Invalid data type: Must be a BufferSource or CanvasImageSource.")}clone(){if(this._closed)throw new Error("VideoSample is closed.");return j(this._data!==null),fe(this._data)?new le(this._data.clone(),{timestamp:this.timestamp,duration:this.duration}):this._data instanceof Uint8Array?new le(this._data.slice(),{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.timestamp,duration:this.duration,colorSpace:this.colorSpace}):new le(this._data,{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.timestamp,duration:this.duration,colorSpace:this.colorSpace})}close(){this._closed||(fe(this._data)?this._data.close():this._data=null,this._closed=!0)}allocationSize(){if(this._closed)throw new Error("VideoSample is closed.");return j(this._data!==null),fe(this._data)?this._data.allocationSize():this._data instanceof Uint8Array?this._data.byteLength:this.codedWidth*this.codedHeight*4}async copyTo(e){if(!$e(e))throw new TypeError("destination must be an ArrayBuffer or an ArrayBuffer view.");if(this._closed)throw new Error("VideoSample is closed.");if(j(this._data!==null),fe(this._data))await this._data.copyTo(e);else if(this._data instanceof Uint8Array)Z(e).set(this._data);else{const i=this._data.getContext("2d",{alpha:!1});j(i);const r=i.getImageData(0,0,this.codedWidth,this.codedHeight);Z(e).set(r.data)}}toVideoFrame(){if(this._closed)throw new Error("VideoSample is closed.");return j(this._data!==null),fe(this._data)?new VideoFrame(this._data,{timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0}):this._data instanceof Uint8Array?new VideoFrame(this._data,{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration,colorSpace:this.colorSpace}):new VideoFrame(this._data,{timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}draw(e,t,i,r=this.displayWidth,o=this.displayHeight){if(!(typeof CanvasRenderingContext2D<"u"&&e instanceof CanvasRenderingContext2D||typeof OffscreenCanvasRenderingContext2D<"u"&&e instanceof OffscreenCanvasRenderingContext2D))throw new TypeError("context must be a CanvasRenderingContext2D or OffscreenCanvasRenderingContext2D.");if(!Number.isFinite(t))throw new TypeError("dx must be a number.");if(!Number.isFinite(i))throw new TypeError("dy must be a number.");if(!Number.isFinite(r)||r<0)throw new TypeError("dWidth must be a non-negative number.");if(!Number.isFinite(o)||o<0)throw new TypeError("dHeight must be a non-negative number.");if(this._closed)throw new Error("VideoSample is closed.");const s=this.toCanvasImageSource();e.save();const a=t+r/2,l=i+o/2;e.translate(a,l),e.rotate(this.rotation*Math.PI/180);const c=this.rotation%180===0?1:r/o;e.scale(1/c,c),e.drawImage(s,-r/2,-o/2,r,o),e.restore()}toCanvasImageSource(){if(this._closed)throw new Error("VideoSample is closed.");if(j(this._data!==null),this._data instanceof Uint8Array){const e=this.toVideoFrame();return queueMicrotask(()=>e.close()),e}else return this._data}setRotation(e){if(![0,90,180,270].includes(e))throw new TypeError("newRotation must be 0, 90, 180, or 270.");this.rotation=e}setTimestamp(e){if(!Number.isFinite(e))throw new TypeError("newTimestamp must be a number.");this.timestamp=e}setDuration(e){if(!Number.isFinite(e)||e<0)throw new TypeError("newDuration must be a non-negative number.");this.duration=e}}const fe=n=>typeof VideoFrame<"u"&&n instanceof VideoFrame;/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class It{getSupportedVideoCodecs(){return this.getSupportedCodecs().filter(e=>ee.includes(e))}getSupportedAudioCodecs(){return this.getSupportedCodecs().filter(e=>Ce.includes(e))}getSupportedSubtitleCodecs(){return this.getSupportedCodecs().filter(e=>Se.includes(e))}_codecUnsupportedHint(e){return""}}class Ot extends It{constructor(e={}){if(!e||typeof e!="object")throw new TypeError("options must be an object.");if(e.fastStart!==void 0&&![!1,"in-memory","fragmented"].includes(e.fastStart))throw new TypeError('options.fastStart, when provided, must be false, "in-memory", or "fragmented".');if(e.minimumFragmentDuration!==void 0&&(!Number.isFinite(e.minimumFragmentDuration)||e.minimumFragmentDuration<0))throw new TypeError("options.minimumFragmentDuration, when provided, must be a non-negative number.");if(e.onFtyp!==void 0&&typeof e.onFtyp!="function")throw new TypeError("options.onFtyp, when provided, must be a function.");if(e.onMoov!==void 0&&typeof e.onMoov!="function")throw new TypeError("options.onMoov, when provided, must be a function.");if(e.onMdat!==void 0&&typeof e.onMdat!="function")throw new TypeError("options.onMdat, when provided, must be a function.");if(e.onMoof!==void 0&&typeof e.onMoof!="function")throw new TypeError("options.onMoof, when provided, must be a function.");super(),this._options=e}getSupportedTrackCounts(){return{video:{min:0,max:1/0},audio:{min:0,max:1/0},subtitle:{min:0,max:1/0},total:{min:1,max:2**32-1}}}get supportsVideoRotationMetadata(){return!0}_createMuxer(e){return new Ur(e,this)}}class Ye extends Ot{get _name(){return"MP4"}get fileExtension(){return".mp4"}get mimeType(){return"video/mp4"}getSupportedCodecs(){return[...ee,...bt,"pcm-s16","pcm-s16be","pcm-s24","pcm-s24be","pcm-s32","pcm-s32be","pcm-f32","pcm-f32be","pcm-f64","pcm-f64be",...Se]}_codecUnsupportedHint(e){return new Ft().getSupportedCodecs().includes(e)?" Switching to MOV will grant support for this codec.":""}}class Ft extends Ot{get _name(){return"MOV"}get fileExtension(){return".mov"}get mimeType(){return"video/quicktime"}getSupportedCodecs(){return[...ee,...Ce]}_codecUnsupportedHint(e){return new Ye().getSupportedCodecs().includes(e)?" Switching to MP4 will grant support for this codec.":""}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */let Xe=class{constructor(){this._connectedTrack=null,this._closingPromise=null,this._closed=!1,this._timestampOffset=0}_ensureValidAdd(){if(!this._connectedTrack)throw new Error("Source is not connected to an output track.");if(this._connectedTrack.output.state==="canceled")throw new Error("Output has been canceled.");if(this._connectedTrack.output.state==="finalizing"||this._connectedTrack.output.state==="finalized")throw new Error("Output has been finalized.");if(this._connectedTrack.output.state==="pending")throw new Error("Output has not started.");if(this._closed)throw new Error("Source is closed.")}_start(){}async _flushAndClose(){}close(){if(this._closingPromise)return;const e=this._connectedTrack;if(!e)throw new Error("Cannot call close without connecting the source to an output track.");if(e.output.state==="pending")throw new Error("Cannot call close before output has been started.");this._closingPromise=(async()=>{await this._flushAndClose(),this._closed=!0,!(e.output.state==="finalizing"||e.output.state==="finalized")&&e.output._muxer.onTrackClose(e)})()}async _flushOrWaitForClose(){return this._closingPromise?this._closingPromise:this._flushAndClose()}};class Ze extends Xe{constructor(e){if(super(),this._connectedTrack=null,!ee.includes(e))throw new TypeError(`Invalid video codec '${e}'. Must be one of: ${ee.join(", ")}.`);this._codec=e}}class Nr extends Ze{constructor(e){super(e)}add(e,t){if(!(e instanceof de))throw new TypeError("packet must be an EncodedPacket.");if(e.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be added.");if(t!==void 0&&(!t||typeof t!="object"))throw new TypeError("meta, when provided, must be an object.");return this._ensureValidAdd(),this._connectedTrack.output._muxer.addEncodedVideoPacket(this._connectedTrack,e,t)}}const $r=n=>{if(!n||typeof n!="object")throw new TypeError("Encoding config must be an object.");if(!ee.includes(n.codec))throw new TypeError(`Invalid video codec '${n.codec}'. Must be one of: ${ee.join(", ")}.`);if(!(n.bitrate instanceof Ge)&&(!Number.isInteger(n.bitrate)||n.bitrate<=0))throw new TypeError("config.bitrate must be a positive integer or a quality.");if(n.latencyMode!==void 0&&!["quality","realtime"].includes(n.latencyMode))throw new TypeError("config.latencyMode, when provided, must be 'quality' or 'realtime'.");if(n.keyFrameInterval!==void 0&&(!Number.isFinite(n.keyFrameInterval)||n.keyFrameInterval<0))throw new TypeError("config.keyFrameInterval, when provided, must be a non-negative number.");if(n.fullCodecString!==void 0&&typeof n.fullCodecString!="string")throw new TypeError("config.fullCodecString, when provided, must be a string.");if(n.fullCodecString!==void 0&&sn(n.fullCodecString)!==n.codec)throw new TypeError(`config.fullCodecString, when provided, must be a string that matches the specified codec (${n.codec}).`);if(n.onEncodedPacket!==void 0&&typeof n.onEncodedPacket!="function")throw new TypeError("config.onEncodedChunk, when provided, must be a function.");if(n.onEncoderConfig!==void 0&&typeof n.onEncoderConfig!="function")throw new TypeError("config.onEncoderConfig, when provided, must be a function.")};class Gr{constructor(e,t){this.source=e,this.encodingConfig=t,this.ensureEncoderPromise=null,this.encoderInitialized=!1,this.encoder=null,this.muxer=null,this.lastMultipleOfKeyFrameInterval=-1,this.lastWidth=null,this.lastHeight=null,this.customEncoder=null,this.customEncoderCallSerializer=new tn,this.customEncoderQueueSize=0,this.encoderError=null}async add(e,t,i){if(this.checkForEncoderError(),this.source._ensureValidAdd(),this.lastWidth!==null&&this.lastHeight!==null){if(e.codedWidth!==this.lastWidth||e.codedHeight!==this.lastHeight)throw new Error(`Video sample size must remain constant. Expected ${this.lastWidth}x${this.lastHeight}, got ${e.codedWidth}x${e.codedHeight}.`)}else this.lastWidth=e.codedWidth,this.lastHeight=e.codedHeight;this.encoderInitialized||(this.ensureEncoderPromise||this.ensureEncoder(e),this.encoderInitialized||await this.ensureEncoderPromise),j(this.encoderInitialized);const r=this.encodingConfig.keyFrameInterval??5,o=Math.floor(e.timestamp/r),s={...i,keyFrame:i?.keyFrame||r===0||o!==this.lastMultipleOfKeyFrameInterval};if(this.lastMultipleOfKeyFrameInterval=o,this.customEncoder){this.customEncoderQueueSize++;const a=this.customEncoderCallSerializer.call(()=>this.customEncoder.encode(e,s)).then(()=>{this.customEncoderQueueSize--,t&&e.close()}).catch(l=>{this.encoderError??=l});this.customEncoderQueueSize>=4&&await a}else{j(this.encoder);const a=e.toVideoFrame();this.encoder.encode(a,s),a.close(),t&&e.close(),this.encoder.encodeQueueSize>=4&&await new Promise(l=>this.encoder.addEventListener("dequeue",l,{once:!0}))}await this.muxer.mutex.currentPromise}async ensureEncoder(e){if(!this.encoder)return this.ensureEncoderPromise=(async()=>{const t=e.codedWidth,i=e.codedHeight,r=this.encodingConfig.bitrate instanceof Ge?this.encodingConfig.bitrate._toVideoBitrate(this.encodingConfig.codec,t,i):this.encodingConfig.bitrate,o={codec:this.encodingConfig.fullCodecString??rn(this.encodingConfig.codec,t,i,r),width:t,height:i,bitrate:r,framerate:this.source._connectedTrack?.metadata.frameRate,latencyMode:this.encodingConfig.latencyMode,...an(this.encodingConfig.codec)};this.encodingConfig.onEncoderConfig?.(o);const s=nn.find(a=>a.supports(this.encodingConfig.codec,o));if(s)this.customEncoder=new s,this.customEncoder.codec=this.encodingConfig.codec,this.customEncoder.config=o,this.customEncoder.onPacket=(a,l)=>{if(!(a instanceof de))throw new TypeError("The first argument passed to onPacket must be an EncodedPacket.");if(l!==void 0&&(!l||typeof l!="object"))throw new TypeError("The second argument passed to onPacket must be an object or undefined.");this.encodingConfig.onEncodedPacket?.(a,l),this.muxer.addEncodedVideoPacket(this.source._connectedTrack,a,l)},await this.customEncoder.init();else{if(typeof VideoEncoder>"u")throw new Error("VideoEncoder is not supported by this browser.");if(!(await VideoEncoder.isConfigSupported(o)).supported)throw new Error(`This specific encoder configuration (${o.codec}, ${o.bitrate} bps, ${o.width}x${o.height}) is not supported by this browser. Consider using another codec or changing your video parameters.`);this.encoder=new VideoEncoder({output:(l,c)=>{const d=de.fromEncodedChunk(l);this.encodingConfig.onEncodedPacket?.(d,c),this.muxer.addEncodedVideoPacket(this.source._connectedTrack,d,c)},error:l=>{this.encoderError??=l}}),this.encoder.configure(o)}j(this.source._connectedTrack),this.muxer=this.source._connectedTrack.output._muxer,this.encoderInitialized=!0})()}async flushAndClose(){this.checkForEncoderError(),this.customEncoder?(this.customEncoderCallSerializer.call(()=>this.customEncoder.flush()),await this.customEncoderCallSerializer.call(()=>this.customEncoder.close())):this.encoder&&(await this.encoder.flush(),this.encoder.close()),this.checkForEncoderError()}getQueueSize(){return this.customEncoder?this.customEncoderQueueSize:this.encoder?.encodeQueueSize??0}checkForEncoderError(){if(this.encoderError)throw this.encoderError.stack=new Error().stack,this.encoderError}}class Kr extends Ze{constructor(e,t){if(!(e instanceof MediaStreamTrack)||e.kind!=="video")throw new TypeError("track must be a video MediaStreamTrack.");$r(t),t={...t,latencyMode:"realtime"},super(t.codec),this._abortController=null,this._encoder=new Gr(this,t),this._track=e}_start(){this._abortController=new AbortController;let e=!1;const t=new MediaStreamTrackProcessor({track:this._track}),i=new WritableStream({write:r=>{if(e||(Dr(this,r),e=!0),this._encoder.getQueueSize()>=4){r.close();return}this._encoder.add(new le(r),!0).catch(o=>{throw this._abortController?.abort(),o})}});t.readable.pipeTo(i,{signal:this._abortController.signal}).catch(r=>{r instanceof DOMException&&r.name==="AbortError"||console.error("Pipe error:",r)})}async _flushAndClose(){this._abortController&&(this._abortController.abort(),this._abortController=null),await this._encoder.flushAndClose()}}class Qr extends Xe{constructor(e){if(super(),this._connectedTrack=null,!Ce.includes(e))throw new TypeError(`Invalid audio codec '${e}'. Must be one of: ${Ce.join(", ")}.`);this._codec=e}}const Dr=(n,e)=>{const t=e.timestamp/1e6;j(n._connectedTrack);const i=n._connectedTrack.output._muxer;i.firstMediaStreamTimestamp===null&&(i.firstMediaStreamTimestamp=t),n._timestampOffset=-Math.min(i.firstMediaStreamTimestamp,t)};class Yr extends Xe{constructor(e){if(super(),this._connectedTrack=null,!Se.includes(e))throw new TypeError(`Invalid subtitle codec '${e}'. Must be one of: ${Se.join(", ")}.`);this._codec=e}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const Xr=["video","audio","subtitle"],Ve=n=>{if(!n||typeof n!="object")throw new TypeError("metadata must be an object.");if(n.languageCode!==void 0&&!qt(n.languageCode))throw new TypeError("metadata.languageCode must be a three-letter, ISO 639-2/T language code.")};class Vt{constructor(e){if(this.state="pending",this._tracks=[],this._startPromise=null,this._cancelPromise=null,this._finalizePromise=null,this._mutex=new wt,!e||typeof e!="object")throw new TypeError("options must be an object.");if(!(e.format instanceof It))throw new TypeError("options.format must be an OutputFormat.");if(!(e.target instanceof De))throw new TypeError("options.target must be a Target.");if(e.target._output)throw new Error("Target is already used for another output.");e.target._output=this,this.format=e.format,this.target=e.target,this._writer=e.target._createWriter(),this._muxer=e.format._createMuxer(this)}addVideoTrack(e,t={}){if(!(e instanceof Ze))throw new TypeError("source must be a VideoSource.");if(Ve(t),t.rotation!==void 0&&![0,90,180,270].includes(t.rotation))throw new TypeError(`Invalid video rotation: ${t.rotation}. Has to be 0, 90, 180 or 270.`);if(!this.format.supportsVideoRotationMetadata&&t.rotation)throw new Error(`${this.format._name} does not support video rotation metadata.`);if(t.frameRate!==void 0&&(!Number.isFinite(t.frameRate)||t.frameRate<=0))throw new TypeError(`Invalid video frame rate: ${t.frameRate}. Must be a positive number.`);this._addTrack("video",e,t)}addAudioTrack(e,t={}){if(!(e instanceof Qr))throw new TypeError("source must be an AudioSource.");Ve(t),this._addTrack("audio",e,t)}addSubtitleTrack(e,t={}){if(!(e instanceof Yr))throw new TypeError("source must be a SubtitleSource.");Ve(t),this._addTrack("subtitle",e,t)}_addTrack(e,t,i){if(this.state!=="pending")throw new Error("Cannot add track after output has been started or canceled.");if(t._connectedTrack)throw new Error("Source is already used for a track.");const r=this.format.getSupportedTrackCounts(),o=this._tracks.reduce((c,d)=>c+(d.type===e?1:0),0),s=r[e].max;if(o===s)throw new Error(s===0?`${this.format._name} does not support ${e} tracks.`:`${this.format._name} does not support more than ${s} ${e} track${s===1?"":"s"}.`);const a=r.total.max;if(this._tracks.length===a)throw new Error(`${this.format._name} does not support more than ${a} tracks${a===1?"":"s"} in total.`);const l={id:this._tracks.length+1,output:this,type:e,source:t,metadata:i};if(l.type==="video"){const c=this.format.getSupportedVideoCodecs();if(c.length===0)throw new Error(`${this.format._name} does not support video tracks.`+this.format._codecUnsupportedHint(l.source._codec));if(!c.includes(l.source._codec))throw new Error(`Codec '${l.source._codec}' cannot be contained within ${this.format._name}. Supported video codecs are: ${c.map(d=>`'${d}'`).join(", ")}.`+this.format._codecUnsupportedHint(l.source._codec))}else if(l.type==="audio"){const c=this.format.getSupportedAudioCodecs();if(c.length===0)throw new Error(`${this.format._name} does not support audio tracks.`+this.format._codecUnsupportedHint(l.source._codec));if(!c.includes(l.source._codec))throw new Error(`Codec '${l.source._codec}' cannot be contained within ${this.format._name}. Supported audio codecs are: ${c.map(d=>`'${d}'`).join(", ")}.`+this.format._codecUnsupportedHint(l.source._codec))}else if(l.type==="subtitle"){const c=this.format.getSupportedSubtitleCodecs();if(c.length===0)throw new Error(`${this.format._name} does not support subtitle tracks.`+this.format._codecUnsupportedHint(l.source._codec));if(!c.includes(l.source._codec))throw new Error(`Codec '${l.source._codec}' cannot be contained within ${this.format._name}. Supported subtitle codecs are: ${c.map(d=>`'${d}'`).join(", ")}.`+this.format._codecUnsupportedHint(l.source._codec))}this._tracks.push(l),t._connectedTrack=l}async start(){const e=this.format.getSupportedTrackCounts();for(const i of Xr){const r=this._tracks.reduce((s,a)=>s+(a.type===i?1:0),0),o=e[i].min;if(r<o)throw new Error(o===e[i].max?`${this.format._name} requires exactly ${o} ${i} track${o===1?"":"s"}.`:`${this.format._name} requires at least ${o} ${i} track${o===1?"":"s"}.`)}const t=e.total.min;if(this._tracks.length<t)throw new Error(t===e.total.max?`${this.format._name} requires exactly ${t} track${t===1?"":"s"}.`:`${this.format._name} requires at least ${t} track${t===1?"":"s"}.`);if(this.state==="canceled")throw new Error("Output has been canceled.");return this._startPromise?(console.warn("Output has already been started."),this._startPromise):this._startPromise=(async()=>{this.state="started",this._writer.start();const i=await this._mutex.acquire();await this._muxer.start();for(const r of this._tracks)r.source._start();i()})()}getMimeType(){return this._muxer.getMimeType()}async cancel(){if(this._cancelPromise)return console.warn("Output has already been canceled."),this._cancelPromise;if(this.state==="finalizing"||this.state==="finalized"){console.warn("Output has already been finalized.");return}return this._cancelPromise=(async()=>{this.state="canceled";const e=await this._mutex.acquire(),t=this._tracks.map(i=>i.source._flushOrWaitForClose());await Promise.all(t),await this._writer.close(),e()})()}async finalize(){if(this.state==="pending")throw new Error("Cannot finalize before starting.");if(this.state==="canceled")throw new Error("Cannot finalize after canceling.");return this._finalizePromise?(console.warn("Output has already been finalized."),this._finalizePromise):this._finalizePromise=(async()=>{this.state="finalizing";const e=await this._mutex.acquire(),t=this._tracks.map(i=>i.source._flushOrWaitForClose());await Promise.all(t),await this._muxer.finalize(),await this._writer.flush(),await this._writer.finalize(),this.state="finalized",e()})()}}class Zr{buffer=[];maxDuration;constructor(e){if(e<0)throw new RangeError("Invalid maxDuration. Must be a non-negative number.");this.maxDuration=e}getDuration(){if(this.buffer.length<2)return 0;const e=this.buffer[0];return this.buffer[this.buffer.length-1].timestamp-e.timestamp}async add(...e){e.forEach(t=>{this.buffer.push(t)}),this.trim()}trim(){for(;this.buffer.length>=2&&this.getDuration()>this.maxDuration;)this.buffer.shift()}toArrayWithDuration(e){if(e<0||this.buffer.length==0)return[];const t=this.buffer[0].timestamp;for(let i=0;i<this.buffer.length;i++)if(this.buffer[i].timestamp-t>e)return this.buffer.slice(0,i);return this.buffer.slice()}toArray(){return this.buffer.slice()}}const Rt="vp8";async function Jr(n,e,t,i){const r=new Vt({format:new Ye({fastStart:"fragmented"}),target:new _t}),o=new Nr(Rt);r.addVideoTrack(o),await r.start();const s=n.toArrayWithDuration(i*1.1);for(;s[0]&&s[0].type!=="key";)s.shift();const a=s[0]?.timestamp||0;for(const l of s)o.add(l.clone({timestamp:l.timestamp-a}),t);return await r.finalize(),new Blob([r.target.buffer],{type:e})}async function qr(n,e,t){const i=e.getVideoTracks()[0];if(!i)throw new Error("No video track found in stream");const r=new MediaSource;n(r),await new Promise(g=>r.onsourceopen=g);const o=new Zr(2*t/1e3),s=Promise.withResolvers(),a=Promise.withResolvers(),l=Promise.withResolvers();let c=null;const d=new WritableStream({async write(g){if(c){for(;c.updating;)await ei();c.appendBuffer(g.data)}}}),u=new Vt({format:new Ye({fastStart:"fragmented"}),target:new Lr(d,{chunked:!0,chunkSize:64*1024})});let f=0,m=null,p=0,h=0;const x=10,v=new Kr(i,{codec:Rt,bitrate:ln,onEncoderConfig(g){console.log("VideoEncoder config:",g)},latencyMode:"realtime",keyFrameInterval:t/1e3/x,onEncodedPacket(g,T){m===null&&(m=g.timestamp),f++,p=g.timestamp,T&&l.resolve(T);const P=o.add(g);g.type==="key"&&(h++,h>=x&&a.resolve(P))}});u.addVideoTrack(v),console.log("VideoEncoder configured and MediaStreamTrackProcessor created"),await u.start();const y=await u.getMimeType();return c=r.addSourceBuffer(y),s.resolve({mimeType:y,onReady:a.promise,buildDelayedVideo:async()=>{const g=await l.promise,T=await Jr(o,y,g,t/1e3);console.log("Returning blob from VideoEncoder delay stream");const P=await T.arrayBuffer();return{blob:T,size:P.byteLength}},end:()=>u.finalize(),fpsEstimate:()=>{if(m===null)return 0;const g=p-m;return f/g}}),s.promise}async function ei(){await new Promise(n=>setTimeout(n,10))}function ti(){const n=new Date;return`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()} ${n.getHours()}-${n.getMinutes()}-${n.getSeconds()}`}async function ni(n,e){const t=URL.createObjectURL(n),i=document.createElement("a");i.style.display="none",i.href=t,i.download=`warp-lens-${ti()}.${e.includes("webm")?"webm":"mp4"}`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)}class H{constructor(e,t){this.key=e,this.initial=t}listeners=[];map(e){const t=new H(this.key,e(this.initial));return this.onChange(i=>{t.set(e(i))}),t}set(e){localStorage.setItem(this.key,JSON.stringify(e)),this.listeners.forEach(t=>t(e))}get(){const e=localStorage.getItem(this.key);return e===null?this.initial:JSON.parse(e)}onChange(e){this.listeners.push(e)}}const ri=["user","on","off"],Lt={label:"720p",width:1280,height:720},ii=[{label:"480p",width:854,height:480},Lt,{label:"1080p",width:1920,height:1080},{label:"1440p",width:2560,height:1440},{label:"4k",width:3840,height:2160}],_={cameraId:new H("cameraId",null),delayInMs:new H("delay",8500),bools:{showStatus:new H("showStatus",!1),showPreview:new H("showPreview",!0),showGrid:new H("showGrid",!0),saveWithoutPrompt:new H("saveWithoutPrompt",!1)},previewSize:new H("previewSize",15),mirrorVideo:new H("mirrorVideo","user"),resolution:new H("resolution",Lt)};function R(n){const e=document.querySelector(n);if(e===null){const t=new Error(`Element not found: ${n}`);throw alert(t),t}return e}function me(n,e){const t=document.createElement("input");t.type="checkbox",t.id=e.key;const i=document.createElement("label");return i.htmlFor=e.key,i.appendChild(t),i.appendChild(document.createTextNode(n)),t.checked=e.get(),t.addEventListener("input",()=>{e.set(t.checked)}),t}function oi(n,e,t,i,r){const o=document.createElement("input");o.type="range",o.id=e.key,o.min=t.toFixed(0),o.max=i.toFixed(0);const s=document.createElement("label");s.htmlFor=e.key,s.appendChild(document.createTextNode(n));const a=document.createElement("span");return s.appendChild(a),s.appendChild(o),o.valueAsNumber=e.get(),a.textContent=` ${o.valueAsNumber}${r}`,o.addEventListener("input",()=>{a.textContent=` ${o.valueAsNumber}${r}`,e.set(o.valueAsNumber)}),o}function Je(n,e,t,i){const r=e.map((a,l)=>{const c=i(t.get())===i(a)?"selected":"";return`<option value="${l}" ${c}>${i(a)}</option>`}).join(""),o=document.createElement("label");o.htmlFor=t.key,o.textContent=n;const s=document.createElement("select");return s.id=t.key,s.innerHTML=r,s.addEventListener("change",()=>{const a=parseInt(s.value,10);t.set(e[a])}),o.appendChild(s),s}function si(n,e,t){const i=document.createElement("dialog");i.innerHTML=`
      <article>
        <header><h3>${n}</h3></header>
        <form></form>
        <footer>
          <button class="secondary" id="no">No</button>
          <button id="yes">Yes</button>
        </footer>
      </article>
    `,i.querySelector("form").prepend(me(e,t).parentElement);const o=i.querySelector("#no"),s=i.querySelector("#yes");document.body.append(i),i.showModal();const a=()=>{i.close(),document.body.removeChild(i)};return new Promise(l=>{o.onclick=()=>{a(),l(!1)},s.onclick=()=>{a(),l(!0)}})}const ai=Je("Mirror",ri,_.mirrorVideo,n=>n==="user"?"When facing user (selfie camera)":n==="on"?"Always":"Never"),gt=await vt(),li=Je("Select a camera",gt.map(n=>n.deviceId),_.cameraId,n=>gt.find(e=>e.deviceId===n)?.label??"Unknown camera"),ci=Je("Select a target resolution",ii,_.resolution,n=>n.label),S={delayInput:R("#delay-s"),header:R("#header"),headerImage:R("#header-img"),previewVideo:R("#preview"),previewCanvas:R("#preview-canvas"),delayedVideo:R("#delayed"),grid:R("#grid-overlay"),settingsModal:R("#settings-modal"),closeModal:R("#close-settings"),expandSettings:R("#expand-settings"),togglePlay:R("#toggle-play"),save:R("#save"),status:R("#status"),modals:{cameraSelector:li,resolutionSelector:ci,mirrorVideoSelect:ai,grid:me("Show grid",_.bools.showGrid),autoSave:me("Automatically save videos without prompt",_.bools.saveWithoutPrompt),preview:me("Show preview",_.bools.showPreview),previewSize:oi("Size of preview (% of total screen):",_.previewSize,5,50,"%"),status:me("Show status",_.bools.showStatus)},confirmSave:(n,e)=>{const t=Math.floor(e/60),r=`${t>0?`${t}m `:""}${(e-t*60).toFixed(1)}s`;return si(`Save to file? (${(n/1024/1024).toFixed(1)} MB, ${r})`,"Save automatically next time",_.bools.saveWithoutPrompt)},progress:R("progress")};async function di(){S.delayedVideo.ondblclick=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},R("#settings-modal form").prepend(...Object.values(S.modals).map(t=>t.parentElement)),S.delayInput.value=(_.delayInMs.get()/1e3).toFixed(1),S.delayInput.addEventListener("input",()=>{_.delayInMs.set(parseFloat(S.delayInput.value)*1e3)}),S.expandSettings.addEventListener("click",()=>S.settingsModal.showModal()),S.closeModal.addEventListener("click",()=>{Object.values(S.modals).forEach(t=>{t.dispatchEvent(new Event("change"))}),S.settingsModal.close()});function n(t,i){i.hidden=!t.get(),t.onChange(r=>i.hidden=!r)}n(_.bools.showPreview,S.previewVideo),n(_.bools.showGrid,S.grid),n(_.bools.showPreview,S.modals.previewSize.parentElement),n(_.bools.showStatus,S.status);function e(t,i){const r=o=>document.body.style.cssText=`--${i}: ${o};`;r(t.get()),t.onChange(r)}e(_.previewSize.map(t=>`${t}%`),"preview-size")}function Re(n,e){n.style.transform=e?"scaleX(-1)":""}Le.replace();di();let xt;function ui(n){clearInterval(xt);const e=setInterval(()=>S.progress.value+=100,100);xt=e,setTimeout(()=>clearInterval(e),n)}let ue=null;async function Ht(){await ue?.stop(),ue=null}async function Wt(){ue&&await Ht(),S.progress.hidden=!1,S.progress.value=0,_.cameraId.get()===null&&(S.settingsModal.showModal(),await new Promise(r=>{S.settingsModal.addEventListener("close",r)}));const n=await vt(),e=await Kt(n.find(r=>r.deviceId===_.cameraId.get()),_.resolution.get()),t=_.mirrorVideo.get(),i=t==="user"?Qt(e.subject):t==="on";Re(S.previewVideo,i),Re(S.previewCanvas,i),Re(S.delayedVideo,i),S.previewVideo.srcObject=e.subject,ue=e}let $=null;async function qe(){$&&(await $.end(),$=null)}async function Te(){ue===null&&await Wt(),$&&await qe(),S.progress.value=0,S.progress.hidden=!1,S.progress.max=_.delayInMs.get(),ui(_.delayInMs.get());const n=await qr(e=>{S.delayedVideo.src=URL.createObjectURL(e)},ue.subject,_.delayInMs.get());$=n,n.onReady.then(()=>{S.progress.hidden=!0,S.delayedVideo.play()})}async function Ue(){S.togglePlay.innerHTML=Le.icons.pause.toSvg(),await Wt(),await Te(),S.togglePlay.onclick=async()=>{console.log("Stopping recording"),await Ht(),console.log("Stopping delay"),await qe(),console.log("Restarting delay"),S.togglePlay.innerHTML=Le.icons.play.toSvg(),S.togglePlay.onclick=()=>Ue()}}(async function(){await Ue(),setInterval(()=>{$&&S.delayedVideo.readyState>=2&&(S.status.innerHTML=`${S.delayedVideo.videoWidth}x${S.delayedVideo.videoHeight} ${$.fpsEstimate().toFixed(0)} fps`)},5e3),S.delayInput.addEventListener("change",async()=>await Te()),screen.orientation.onchange=async()=>await Te(),document.onvisibilitychange=()=>{document.visibilityState==="visible"?Te():document.visibilityState==="hidden"&&qe()},S.save.onclick=async()=>{if(!$)return;const e=await $.buildDelayedVideo();(_.bools.saveWithoutPrompt.get()?!0:await S.confirmSave(e.size,_.delayInMs.get()/1e3))&&ni(e.blob,$.mimeType)},_.resolution.onChange(Ue)})().catch(window.alert);
